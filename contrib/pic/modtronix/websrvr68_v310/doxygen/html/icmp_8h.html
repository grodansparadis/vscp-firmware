<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: net/icmp.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>net/icmp.h File Reference</h1>ICMP Module for Modtronix TCP/IP Stack.  
<a href="#_details">More...</a>
<p>
<code>#include &quot;<a class="el" href="ip_8h.html">net\ip.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="mac_8h.html">net\mac.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#6bd58911d21f874f1dbe3c6ceef3a92c">ICMPIsTxReady</a>()&nbsp;&nbsp;&nbsp;MACIsTxReady(TRUE)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#2268bc31ad36c9985fe92a51953f8ff5">MAX_ICMP_DATA</a>&nbsp;&nbsp;&nbsp;(32ul)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#4001688dae0b0145c29e67725b34903b">MAX_ICMP_DATA_LEN</a>&nbsp;&nbsp;&nbsp;(MAX_ICMP_DATA)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b">_ICMP_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#bbe03c42bec66a33e4d65159a6260b03">ICMP_CODE</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b">_ICMP_CODE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#8441046b594dfbb2a8a1cb3ebdbb7c52">ICMP_REQUESTS</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b">_ICMP_CODE</a> { <a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b040ff029e5746bdc1b9fd08db66b3b47">ICMP_ECHO_REPLY</a> =  0, 
<a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b65c0b673722ac5aa7f38ee101a0a2e0a">ICMP_ECHO_REQUEST</a> =  8
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#2e3374fd3968837d5a32a31fa79d32ef">ICMPGet</a> (<a class="el" href="icmp_8h.html#bbe03c42bec66a33e4d65159a6260b03">ICMP_CODE</a> *code, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *data, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *len, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> *id, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> *seq)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="icmp_8h.html#bbf071f61fc87ff65fc38fdca3486625">ICMPPut</a> (<a class="el" href="struct___n_o_d_e___i_n_f_o.html">NODE_INFO</a> *remote, <a class="el" href="icmp_8h.html#bbe03c42bec66a33e4d65159a6260b03">ICMP_CODE</a> code, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *data, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> len, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> id, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> seq)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
ICMP Module for Modtronix TCP/IP Stack. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="user" compact><dt><b>Dependencies: </b></dt><dd><a class="el" href="stacktsk_8h.html" title="Stack Task Module for Modtronix TCP/IP Stack.">stacktsk.h</a>, <a class="el" href="ip_8h.html" title="IP Module for Modtronix TCP/IP Stack.">ip.h</a>, <a class="el" href="mac_8h.html" title="MAC Module for Modtronix TCP/IP Stack.">mac.h</a> </dd></dl>
<dl class="user" compact><dt><b>Compiler: </b></dt><dd>MPLAB C18 v2.10 or higher <br>
 HITECH PICC-18 V8.35PL3 or higher</dd></dl>
<h2><a class="anchor" name="description">
Description</a></h2>
This module contains the ICMP code. <br>
For a detailed description, see the <a class="el" href="group__mod__tcpip__base__icmp.html">ICMP</a> section of this document - in [Modules] [TCP/IP Stack] [TCP/IP Base Protocols]. <hr><h2>Define Documentation</h2>
<a class="anchor" name="6bd58911d21f874f1dbe3c6ceef3a92c"></a><!-- doxytag: member="icmp.h::ICMPIsTxReady" ref="6bd58911d21f874f1dbe3c6ceef3a92c" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ICMPIsTxReady          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;MACIsTxReady(TRUE)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if transmit buffer is ready <br>
 FALSE if transmit buffer is not ready </dd></dl>

</div>
</div><p>
<a class="anchor" name="2268bc31ad36c9985fe92a51953f8ff5"></a><!-- doxytag: member="icmp.h::MAX_ICMP_DATA" ref="2268bc31ad36c9985fe92a51953f8ff5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ICMP_DATA&nbsp;&nbsp;&nbsp;(32ul)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="4001688dae0b0145c29e67725b34903b"></a><!-- doxytag: member="icmp.h::MAX_ICMP_DATA_LEN" ref="4001688dae0b0145c29e67725b34903b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_ICMP_DATA_LEN&nbsp;&nbsp;&nbsp;(MAX_ICMP_DATA)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="bbe03c42bec66a33e4d65159a6260b03"></a><!-- doxytag: member="icmp.h::ICMP_CODE" ref="bbe03c42bec66a33e4d65159a6260b03" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b">_ICMP_CODE</a>  <a class="el" href="icmp_8h.html#bbe03c42bec66a33e4d65159a6260b03">ICMP_CODE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="8441046b594dfbb2a8a1cb3ebdbb7c52"></a><!-- doxytag: member="icmp.h::ICMP_REQUESTS" ref="8441046b594dfbb2a8a1cb3ebdbb7c52" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b">_ICMP_CODE</a>  <a class="el" href="icmp_8h.html#8441046b594dfbb2a8a1cb3ebdbb7c52">ICMP_REQUESTS</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="032fb2f6a59e46aac1de87a80ec0712b"></a><!-- doxytag: member="icmp.h::_ICMP_CODE" ref="032fb2f6a59e46aac1de87a80ec0712b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="icmp_8h.html#032fb2f6a59e46aac1de87a80ec0712b">_ICMP_CODE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="032fb2f6a59e46aac1de87a80ec0712b040ff029e5746bdc1b9fd08db66b3b47"></a><!-- doxytag: member="ICMP_ECHO_REPLY" ref="032fb2f6a59e46aac1de87a80ec0712b040ff029e5746bdc1b9fd08db66b3b47" args="" -->ICMP_ECHO_REPLY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="032fb2f6a59e46aac1de87a80ec0712b65c0b673722ac5aa7f38ee101a0a2e0a"></a><!-- doxytag: member="ICMP_ECHO_REQUEST" ref="032fb2f6a59e46aac1de87a80ec0712b65c0b673722ac5aa7f38ee101a0a2e0a" args="" -->ICMP_ECHO_REQUEST</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="2e3374fd3968837d5a32a31fa79d32ef"></a><!-- doxytag: member="icmp.h::ICMPGet" ref="2e3374fd3968837d5a32a31fa79d32ef" args="(ICMP_CODE *code, BYTE *data, BYTE *len, WORD *id, WORD *seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> ICMPGet           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="icmp_8h.html#bbe03c42bec66a33e4d65159a6260b03">ICMP_CODE</a> *&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> *&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> *&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the next ICMP packet<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>MAC buffer contains ICMP type packet.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>Buffer to hold ICMP code value </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Buffer to hold ICMP data </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Buffer to hold ICMP data length </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>Buffer to hold ICMP id </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>Buffer to hold ICMP seq</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if valid ICMP packet was received <br>
 FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="bbf071f61fc87ff65fc38fdca3486625"></a><!-- doxytag: member="icmp.h::ICMPPut" ref="bbf071f61fc87ff65fc38fdca3486625" args="(NODE_INFO *remote, ICMP_CODE code, BYTE *data, BYTE len, WORD id, WORD seq)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void ICMPPut           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___n_o_d_e___i_n_f_o.html">NODE_INFO</a> *&nbsp;</td>
          <td class="paramname"> <em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="icmp_8h.html#bbe03c42bec66a33e4d65159a6260b03">ICMP_CODE</a>&nbsp;</td>
          <td class="paramname"> <em>code</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>id</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>seq</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
A ICMP packet is created and put on MAC.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="icmp_8h.html#6bd58911d21f874f1dbe3c6ceef3a92c">ICMPIsTxReady()</a> == TRUE</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>remote</em>&nbsp;</td><td>Remote node info </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>code</em>&nbsp;</td><td>ICMP_ECHO_REPLY or ICMP_ECHO_REQUEST </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>Data bytes </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Number of bytes to send </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>id</em>&nbsp;</td><td>ICMP identifier </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>seq</em>&nbsp;</td><td>ICMP sequence number </td></tr>
  </table>
</dl>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 14 08:54:21 2010 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
