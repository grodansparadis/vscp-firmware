<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: net/fs.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>net/fs.h File Reference</h1>Primary File System.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___f_i_l_e___i_n_f_o.html">_FILE_INFO</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#3e8cefeee58f762ff50bcef35fa12eec">FILE</a>&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#530875008418be08d8c262606cbee3a5">FILE_INVALID</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#5ae954fcb8c6d68424fdbcb94b070c27">FILE_POS</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#8b9048932d6b55813ff4324407b5e8d2">FILEFLAG_EOF</a>&nbsp;&nbsp;&nbsp;0x40ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#1a6f176604879fcc9227117e5c31203f">FILEFLAG_ERROR</a>&nbsp;&nbsp;&nbsp;0x20ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#f21cdae464e3ae88613a0306e45436c6">FILEFLAG_READING</a>&nbsp;&nbsp;&nbsp;0x02ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#0d084e1a7be3412a527af2cbb1d5bb8a">FILEFLAG_RES</a>&nbsp;&nbsp;&nbsp;0x80ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#918e18361e8ca2b1c8629924ab8d6278">FILEFLAG_USED</a>&nbsp;&nbsp;&nbsp;0x01ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#698946fb4db1cb1d88f70048db9fd877">FILEFLAG_WRITING</a>&nbsp;&nbsp;&nbsp;0x04ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#9e873fec535aaef09558eb6cca5b9a2f">fileHasError</a>(fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF</a>(fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#1052d9a94ff9e794b10b6ff1d1b45d6b">fileIsOK</a>(fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#9204d14d5dc9fb1e8cd64cace1f61af8">fileIsValidHandle</a>(fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#51e4284328ee211d638949c79fa689ae">FSYS_NOT_AVAILABLE</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#8f62b8e265507672471dc0512e94d45e">FSYS_POS</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#9e3c3170f08c22f740f6e4f904f988c6">FSYSFLAG_AVAILABLE</a>&nbsp;&nbsp;&nbsp;0x01ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#2a32c51bab987a9911abfa51d45809f7">fsysIsInUse</a>()</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct___f_i_l_e___i_n_f_o.html">_FILE_INFO</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#51b9451838af0425890de1eb15f6c161">FSEE_FILE_INFO</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#7566e3c0b4704210013a5dcde7358642">fileClose</a> (FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#4b642b8b85700b38f111f7a783160503">fileFlush</a> (FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#6c89402e1d462e6f16fad65e67856b31">fileGetByte</a> (FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FSEE_POS&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FILE_POS&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#0a67f9e3ddf4973f90e4ae2608297e02">fileGetPos</a> (FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FILE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#fc09d56f0a7c43f8fa35470af3ac4148">fileOpen</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *name, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FILE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#41b808f900b234029a9151e560c92a87">fileOpenFAT</a> (FSYS_POS fatPos)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FILE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#82b342ddb01754d3e8b63e6b16cd7e03">fileOpenImage</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#96ec02bc1f13abcee04828c0bbacdc70">filePutByte</a> (FILE fhandle, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease</a> (FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#7d063fbd5939fe03085fb48590fd90b9">fileSetPos</a> (FILE fhandle, FILE_POS put)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#2fb2788db370b4108223767ebd46d532">fsysFormat</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fs_8h.html#ee1ffbfeda9452b47290cdece76349e4">fsysInit</a> (void)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Primary File System. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="user" compact><dt><b>Compiler: </b></dt><dd>MPLAB C18 v2.10 or higher <br>
 HITECH PICC-18 V8.35PL3 or higher</dd></dl>
<h2><a class="anchor" name="description">
Description</a></h2>
This module only contains defines for functions that are mapped to the Primary File System. There can only be one Primary File System. For example, to make the FSEE module the primary File System, place the following line in the "projdefs.h" file: <div class="fragment"><pre class="fragment"><span class="preprocessor"> #define FSEE_IS_PRIMARY_FS</span>
</pre></div> <hr><h2>Define Documentation</h2>
<a class="anchor" name="3e8cefeee58f762ff50bcef35fa12eec"></a><!-- doxytag: member="fs.h::FILE" ref="3e8cefeee58f762ff50bcef35fa12eec" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILE&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE handle. Each open files is assigned a file handle.<ul>
<li>Valid values are from 0 - 127</li><li>FILE_INVALID indicates an invalid file</li><li>FSYS_NOT_AVAILABLE indicates that the File System is not available </li></ul>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a1">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="530875008418be08d8c262606cbee3a5"></a><!-- doxytag: member="fs.h::FILE_INVALID" ref="530875008418be08d8c262606cbee3a5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILE_INVALID          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
When FILE Handle has this value, it indicates an invalid file <dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a6">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="5ae954fcb8c6d68424fdbcb94b070c27"></a><!-- doxytag: member="fs.h::FILE_POS" ref="5ae954fcb8c6d68424fdbcb94b070c27" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILE_POS          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE position pointer. A variable that can be used to give the offset anywhere in a file. 
</div>
</div><p>
<a class="anchor" name="8b9048932d6b55813ff4324407b5e8d2"></a><!-- doxytag: member="fs.h::FILEFLAG_EOF" ref="8b9048932d6b55813ff4324407b5e8d2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILEFLAG_EOF&nbsp;&nbsp;&nbsp;0x40ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. When set, indicates that then end of file has been reached. 
</div>
</div><p>
<a class="anchor" name="1a6f176604879fcc9227117e5c31203f"></a><!-- doxytag: member="fs.h::FILEFLAG_ERROR" ref="1a6f176604879fcc9227117e5c31203f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILEFLAG_ERROR&nbsp;&nbsp;&nbsp;0x20ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. When set, indicates that an error has occured with this file. 
</div>
</div><p>
<a class="anchor" name="f21cdae464e3ae88613a0306e45436c6"></a><!-- doxytag: member="fs.h::FILEFLAG_READING" ref="f21cdae464e3ae88613a0306e45436c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILEFLAG_READING&nbsp;&nbsp;&nbsp;0x02ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. Indicates that we are currently reading from this file. For I2C devices, this means that the memory chip is in sequencial read mode and has control of the I2C bus! Before the bus can be used by any other node, it has to be released! 
</div>
</div><p>
<a class="anchor" name="0d084e1a7be3412a527af2cbb1d5bb8a"></a><!-- doxytag: member="fs.h::FILEFLAG_RES" ref="0d084e1a7be3412a527af2cbb1d5bb8a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILEFLAG_RES&nbsp;&nbsp;&nbsp;0x80ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. Reserve (don't use) signed bit, is implemented differently by different compilers 
</div>
</div><p>
<a class="anchor" name="918e18361e8ca2b1c8629924ab8d6278"></a><!-- doxytag: member="fs.h::FILEFLAG_USED" ref="918e18361e8ca2b1c8629924ab8d6278" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILEFLAG_USED&nbsp;&nbsp;&nbsp;0x01ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. When set, indicates that this file is being used. 
</div>
</div><p>
<a class="anchor" name="698946fb4db1cb1d88f70048db9fd877"></a><!-- doxytag: member="fs.h::FILEFLAG_WRITING" ref="698946fb4db1cb1d88f70048db9fd877" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FILEFLAG_WRITING&nbsp;&nbsp;&nbsp;0x04ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. Indicates that we are currently writing to this file. For I2C devices, this means that the memory chip is in sequencial write mode and has control of the I2C bus! Before the bus can be used by any other node, it has to be released! 
</div>
</div><p>
<a class="anchor" name="9e873fec535aaef09558eb6cca5b9a2f"></a><!-- doxytag: member="fs.h::fileHasError" ref="9e873fec535aaef09558eb6cca5b9a2f" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fileHasError          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the last operation on the given file generated an error.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if last operation on file generated and error. <br>
 FALSE if otherwise. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a11">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="ff39462047281575deb15ef45cd92616"></a><!-- doxytag: member="fs.h::fileIsEOF" ref="ff39462047281575deb15ef45cd92616" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fileIsEOF          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the given file has reached it's EOF. This will happen:<ul>
<li>After the last byte has been read from an open file.</li><li>After the last byte has been written to an open file.</li></ul>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if given file has reached end of file. <br>
 FALSE if otherwise. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a8">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="1052d9a94ff9e794b10b6ff1d1b45d6b"></a><!-- doxytag: member="fs.h::fileIsOK" ref="1052d9a94ff9e794b10b6ff1d1b45d6b" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fileIsOK          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the last operation on the given file completed without an EOF or Error. If this function returns false, use the <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> and <a class="el" href="fs_8h.html#1052d9a94ff9e794b10b6ff1d1b45d6b">fileIsOK()</a> functions to determine exact condition.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if last operation on file was successfull <br>
 FALSE if the last operation on the file generated and EOF or Error </dd></dl>

</div>
</div><p>
<a class="anchor" name="9204d14d5dc9fb1e8cd64cace1f61af8"></a><!-- doxytag: member="fs.h::fileIsValidHandle" ref="9204d14d5dc9fb1e8cd64cace1f61af8" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fileIsValidHandle          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the given FILE handle is a valid handle. A valid FILE handle is a value that could be assigned to an open file. Possible invalid FILE handles are FILE_INVALID and FSYS_NOT_AVAILABLE<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if given FILE handle value could be a valid FILE handle<br>
 FALSE if it is not a possible FILE handle value </dd></dl>

</div>
</div><p>
<a class="anchor" name="51e4284328ee211d638949c79fa689ae"></a><!-- doxytag: member="fs.h::FSYS_NOT_AVAILABLE" ref="51e4284328ee211d638949c79fa689ae" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSYS_NOT_AVAILABLE          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
When FILE Handle has this value, it indicates that the File System is not available <dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a7">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="8f62b8e265507672471dc0512e94d45e"></a><!-- doxytag: member="fs.h::FSYS_POS" ref="8f62b8e265507672471dc0512e94d45e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSYS_POS          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File System position pointer. A variable that can be used to give the offset anywhere in the File System. 
</div>
</div><p>
<a class="anchor" name="9e3c3170f08c22f740f6e4f904f988c6"></a><!-- doxytag: member="fs.h::FSYSFLAG_AVAILABLE" ref="9e3c3170f08c22f740f6e4f904f988c6" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSYSFLAG_AVAILABLE&nbsp;&nbsp;&nbsp;0x01ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File System flag. When set, indicates that the File System is available. 
</div>
</div><p>
<a class="anchor" name="2a32c51bab987a9911abfa51d45809f7"></a><!-- doxytag: member="fs.h::fsysIsInUse" ref="2a32c51bab987a9911abfa51d45809f7" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsysIsInUse          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Indicates if the File System is currently in use.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if it is currently being used FALSE if not </dd></dl>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="51b9451838af0425890de1eb15f6c161"></a><!-- doxytag: member="fs.h::FSEE_FILE_INFO" ref="51b9451838af0425890de1eb15f6c161" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___f_i_l_e___i_n_f_o.html">_FILE_INFO</a>  <a class="el" href="struct___f_i_l_e___i_n_f_o.html">FSEE_FILE_INFO</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE structure. Each file that is opened is assigned a FILE structure by the File System. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="7566e3c0b4704210013a5dcde7358642"></a><!-- doxytag: member="fs.h::fileClose" ref="7566e3c0b4704210013a5dcde7358642" args="(FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fileClose           </td>
          <td>(</td>
          <td class="paramtype">FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the given file. Seeing that the File System can only have a limited amount of files open at any time (defined by FSEE_MAX_FILES), it is very important to call this function after finished with a file!<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FILE handle of the file to be released </td></tr>
  </table>
</dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a9">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="4b642b8b85700b38f111f7a783160503"></a><!-- doxytag: member="fs.h::fileFlush" ref="4b642b8b85700b38f111f7a783160503" args="(FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fileFlush           </td>
          <td>(</td>
          <td class="paramtype">FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finishes writing any data that has not yet been written to the File System. When writing data to a file via the <a class="el" href="fs_8h.html#96ec02bc1f13abcee04828c0bbacdc70">filePutByte()</a> function, it is not always written straight to the File System Media, but some times to an intermediate buffer. This function will write all pending data from the buffer to the File System Media. 
</div>
</div><p>
<a class="anchor" name="6c89402e1d462e6f16fad65e67856b31"></a><!-- doxytag: member="fs.h::fileGetByte" ref="6c89402e1d462e6f16fad65e67856b31" args="(FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> fileGetByte           </td>
          <td>(</td>
          <td class="paramtype">FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the next byte from current open file.<p>
Caller must call <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> to check for end of file condition before calling this function to make sure the file has not reached it's end. If the <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> returns true, then this function will have no affect!<p>
Caller must call <a class="el" href="fs_8h.html#9e873fec535aaef09558eb6cca5b9a2f">fileHasError()</a> function after calling this function to ensure byte was read without error!<p>
This function will place the EEPROM in sequencial read mode and take control of the I2C bus! To allow other devices to use the I2C bus while the file is open, call <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a> when finished reading some data. When calling fileRead() after calling <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a>, the EEPROM will automatically be placed in sequencial read mode again and take control of the bus.<p>
To read multiple bytes, see <a class="el" href="ex__file__read_8c.html">ex_file_read.c</a> example file.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#ee1ffbfeda9452b47290cdece76349e4">fsysInit()</a> was successfully called.</dd></dl>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#fc09d56f0a7c43f8fa35470af3ac4148">fileOpen()</a> != FILE_INVALID and<br>
 fileGetByteBegin() == TRUE</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FILE handle of the file to be released</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Data byte from current address. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a10">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="bfdefc59bd7e1c4fff2cad042214c18a"></a><!-- doxytag: member="fs.h::fileGetFAT" ref="bfdefc59bd7e1c4fff2cad042214c18a" args="(BYTE *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FSEE_POS fileGetFAT           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the address in the File System of the requested file's FAT entry. This address can be used as a fast way to open files in the future with the <a class="el" href="fs_8h.html#41b808f900b234029a9151e560c92a87">fileOpenFAT()</a> function.<p>
!!! IMPORTANT !!! The File System FAT entry address obtained with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function will only be valid as long as no modifications are made to the File System! If after obtaining a address with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function the File System is modified, this value might not be valid any more! 
</div>
</div><p>
<a class="anchor" name="0a67f9e3ddf4973f90e4ae2608297e02"></a><!-- doxytag: member="fs.h::fileGetPos" ref="0a67f9e3ddf4973f90e4ae2608297e02" args="(FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE_POS fileGetPos           </td>
          <td>(</td>
          <td class="paramtype">FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current file pointer for the given file. This is the offset in the given file that the next read or write will be performed on. This value can be used as a parameter to the <a class="el" href="fs_8h.html#7d063fbd5939fe03085fb48590fd90b9">fileSetPos()</a> function at a later stage to restore the current file position. This is NOT the file address in the file system. 
</div>
</div><p>
<a class="anchor" name="fc09d56f0a7c43f8fa35470af3ac4148"></a><!-- doxytag: member="fs.h::fileOpen" ref="fc09d56f0a7c43f8fa35470af3ac4148" args="(BYTE *name, BYTE mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE fileOpen           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens the given file for reading or writing, and returns a handle to the file. The file pointer (where next read or write will occur) will be positioned at the beginning of the file. To modify the file pointer use the <a class="el" href="fs_8h.html#7d063fbd5939fe03085fb48590fd90b9">fileSetPos()</a> function. There is no need to call <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a> after calling this function, it does not reserve any resources!<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#ee1ffbfeda9452b47290cdece76349e4">fsysInit()</a> was successfully called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>NULL terminate file name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>Currently not used. All files are opened with read and write permission. When writing to a file, no data can be appended to it!</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>- A FILE Handle (value 0 - 127) if the file is found<ul>
<li>FILE_INVALID if file could not be opened</li><li>FSYS_NOT_AVAILABLE if the File System is not available </li></ul>
</dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a5">ex_file_read.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="41b808f900b234029a9151e560c92a87"></a><!-- doxytag: member="fs.h::fileOpenFAT" ref="41b808f900b234029a9151e560c92a87" args="(FSYS_POS fatPos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE fileOpenFAT           </td>
          <td>(</td>
          <td class="paramtype">FSYS_POS&nbsp;</td>
          <td class="paramname"> <em>fatPos</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens the given file for reading or writing, and returns a handle to the file. The file pointer (where next read or write will occur) will be positioned at the beginning of the file. To modify the file pointer use the <a class="el" href="fs_8h.html#7d063fbd5939fe03085fb48590fd90b9">fileSetPos()</a> function.<p>
!!! IMPORTANT !!! The File System FAT entry address obtained with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function will only be valid as long as no modifications are made to the File System! If after obtaining a address with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function the File System is modified, this value might not be valid any more!<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fatPos</em>&nbsp;</td><td>The requested File's FAT address in the File System. This value has to be obtained from a <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>- A FILE Handle (value 0 - 127) if the file is found<ul>
<li>FILE_INVALID if file could not be opened</li><li>FSYS_NOT_AVAILABLE if the File System is not available </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="82b342ddb01754d3e8b63e6b16cd7e03"></a><!-- doxytag: member="fs.h::fileOpenImage" ref="82b342ddb01754d3e8b63e6b16cd7e03" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FILE fileOpenImage           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepares the File System to receive a new Image via following calls to <a class="el" href="fs_8h.html#96ec02bc1f13abcee04828c0bbacdc70">filePutByte()</a>! The given image must contain the FAT and all file data.<p>
!!! IMPORTANT !!! This function will overwrite the entire File System! All data will be lost!<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE if otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="96ec02bc1f13abcee04828c0bbacdc70"></a><!-- doxytag: member="fs.h::filePutByte" ref="96ec02bc1f13abcee04828c0bbacdc70" args="(FILE fhandle, BYTE b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> filePutByte           </td>
          <td>(</td>
          <td class="paramtype">FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes a byte to the given file.<p>
Caller must call <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> to check for end of file condition before calling this function to make sure the file has not reached it's end. If the <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> returns true, then this function will have no affect!<p>
Writes a byte to the current output. Actual write may not get started until internal write page is full. To ensure that previously data gets written, caller must call <a class="el" href="fs_8h.html#4b642b8b85700b38f111f7a783160503">fileFlush()</a> after last call to <a class="el" href="fs_8h.html#96ec02bc1f13abcee04828c0bbacdc70">filePutByte()</a>.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#ee1ffbfeda9452b47290cdece76349e4">fsysInit()</a> and <a class="el" href="fs_8h.html#fc09d56f0a7c43f8fa35470af3ac4148">fileOpen()</a> were successfully called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FILE handle to the file to be activated</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>byte to be written</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE if otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="dd08088dd19c03f1b802136b34f8a195"></a><!-- doxytag: member="fs.h::fileRelease" ref="dd08088dd19c03f1b802136b34f8a195" args="(FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fileRelease           </td>
          <td>(</td>
          <td class="paramtype">FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Releases any resources that the given open file might be reserving. On certian File Systems, like ones that use EEPROMs on a shared I2C bus for example, the File System will take control of the bus once a file is opened. To release the bus so it can be used by other modules, the <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a> function has to be called. At a later stage, when the file has to be used again, the fileActive() function has to be called.<p>
This function should be called when a file has been opened, and we don't want to close it now, but still want to use it at a later stage. In this case, we can call <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a> and suspend operation to the system to perform other tasks. When at a later stage we want to use this file again, fileActivate() will automatically be called by the file read and write functions.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#ee1ffbfeda9452b47290cdece76349e4">fsysInit()</a> and <a class="el" href="fs_8h.html#fc09d56f0a7c43f8fa35470af3ac4148">fileOpen()</a> were successfully called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FILE handle of the file to be released </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="7d063fbd5939fe03085fb48590fd90b9"></a><!-- doxytag: member="fs.h::fileSetPos" ref="7d063fbd5939fe03085fb48590fd90b9" args="(FILE fhandle, FILE_POS put)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fileSetPos           </td>
          <td>(</td>
          <td class="paramtype">FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FILE_POS&nbsp;</td>
          <td class="paramname"> <em>put</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the current file pointer for the given file. This is the offset in the given file that the next read or write will be performed on. 
</div>
</div><p>
<a class="anchor" name="2fb2788db370b4108223767ebd46d532"></a><!-- doxytag: member="fs.h::fsysFormat" ref="2fb2788db370b4108223767ebd46d532" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsysFormat           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deletes all files present on the File System<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#ee1ffbfeda9452b47290cdece76349e4">fsysInit()</a> was successfully called.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="ee1ffbfeda9452b47290cdece76349e4"></a><!-- doxytag: member="fs.h::fsysInit" ref="ee1ffbfeda9452b47290cdece76349e4" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsysInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the Modtronix File System<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE, if File System Storage access is initialized and File System is is ready to be used <br>
 FALSE otherwise </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__file__read_8c-example.html#a3">ex_file_read.c</a>.</dl>
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 14 08:54:21 2010 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
