<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: Debugging</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>Debugging<br>
<small>
[<a class="el" href="group__mod__sys.html">System Modules</a>]</small>
</h1><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Files</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="debug_8h.html">debug.h</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Code Debugging. <br></td></tr>

<p>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
<h2><a class="anchor" name="mod_sys_debug_introduction">
Introduction</a></h2>
For code development, the debug feature can be enabled. To do this, comment out the following line in the "projdefs.h" file: <div class="fragment"><pre class="fragment"><span class="preprocessor"> #define DEBUG_OFF </span>
</pre></div> For the production version, please be sure to <b>disable</b> the debug feature! If enabled, it will slow the code down a bit. All pre-built hex files shipped with the Modtronix SBC68EC Web Server have debugging switched off! To use debugging, the above mentioned define must be removed (commented out) and the project rebuilt!<p>
Additionally, the debug levels have to be set for the different code modules. This is done in the lines following the "#define DEBUG_OFF" line in the "projdefs.h" file. The following debug levels can be enabled for each file:<ul>
<li>Error = LOG_ERROR - Only errors are outputted via the debug port.</li><li>Warning = LOG_WARN - Errors and warnings are outputted via the debug port.</li><li>Info = LOG_INFO - Error, warnings and information is outputted via the debug port.</li><li>Debug = LOG_DEBUG - Error, warnings, information and debug information is outputted via the debug port.</li></ul>
<p>
Each debug module has to be configured for its desired debug level. For example, if detailed debug information is required for the "http" module, the "#define DEBUG_HTTP LOG_WARN" line can be changed to "#define DEBUG_HTTP LOG_DEBUG".<p>
In the source code debug information is written out with lines that look like this: <div class="fragment"><pre class="fragment"><span class="preprocessor">#if (DEBUG_HTTP &gt;= LOG_INFO)</span>
<span class="preprocessor"></span>debugPutMsg(1);
<span class="preprocessor">#endif</span>
</pre></div><p>
This example will display the debug message defined in the project file in the "HTTP" section with a "message code" = 1. The debug message will only be written out if the debug level for the HTTP module is configured (in the <a class="el" href="projdefs_8h.html" title="Project configuration.">projdefs.h</a> file) to be LOG_INFO or higher (LOG_ERROR, LOG_WARN or LOG_INFO).<p>
After the project has been configured for the desired debug level, it has to be recompiled and the target board programmed with the new firmware.<h2><a class="anchor" name="mod_sys_debug_add">
Adding Debug Messages</a></h2>
Adding debug messages to new code is simple:<ul>
<li>Add a debugPutMsg(n) line to your code that will output a defined debug message.</li><li>Define this message in the project file. The default project file delivered with this project is <em>"../src/debug.xml"</em></li></ul>
<p>
After following these steps, the code has to be recompiled and the new firmware uploaded to the target board. </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 14 08:54:23 2010 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
