<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: net/mac.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>net/mac.h File Reference</h1>MAC Module for Modtronix TCP/IP Stack.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___m_a_c___a_d_d_r.html">_MAC_ADDR</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#9f45976a0d1fa6f0a85a74b6efd93835">INVALID_BUFFER</a>&nbsp;&nbsp;&nbsp;(0xfful)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#868e3cdf5cef114534af09415b240062">MAC_ARP</a>&nbsp;&nbsp;&nbsp;(0x6ul)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#ec5cf3aa174db8b2a3ac0ec39f20c0f3">MAC_GETARR_ALL</a>&nbsp;&nbsp;&nbsp;(0x00ul)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#c645456a4876f1bc3aab716694ae1638">MAC_GETARR_RETMASK</a>&nbsp;&nbsp;&nbsp;(0xF0ul)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#d452725041946775668f333abcc766e9">MAC_GETARR_TRM</a>&nbsp;&nbsp;&nbsp;(0x20ul)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#5e9a7bd784ee7afa39b994ce2ecd536d">MAC_IP</a>&nbsp;&nbsp;&nbsp;(0ul)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#6549fa915e49b5f2948ea00fa8c5d59a">MAC_UNKNOWN</a>&nbsp;&nbsp;&nbsp;(0x0fful)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct___m_a_c___a_d_d_r.html">_MAC_ADDR</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#676fa5e57c9a04c2eb2e388c973f9f43">MAC_ADDR</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#6f0a2614cde1253e6edcc78d1a069b79">MACDiscardRx</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#d5650bf4b32193a695ac7f6bd1541473">MACDiscardTx</a> (<a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a> buffer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#38dc2cc8c71b2f6bfe51ea8db2acc67c">MACFlush</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#24b67ec68e80243ca4fdcfaaf0a91072">MACGet</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#89d13e85195c0d00f308194305845016">MACGetArray</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *val, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#bf4662d6909f7924d62eb1f947b4b232">MACGetArrayChr</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *val, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> len, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> chr)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#853f9bc96814d6d6ff8ef7a19f84d973">MACGetFreeRxSize</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#18cabbf973ecec4ba5b67dc2c729b753">MACGetHeader</a> (<a class="el" href="struct___m_a_c___a_d_d_r.html">MAC_ADDR</a> *remote, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *type)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#ecf4969d75b8137bb71287e49086e5fd">MACGetNICAddr</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#e39e7ab671f17de9eab5071f148cafe6">MACGetTxBuffer</a> (<a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> HighPriority)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#26cccc5919dcabb5777c3f6127648e9f">MACInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#0b700fbc3ad2a6c7c389026bfd38e0f1">MACIsLinked</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#1d7b8fc95a465b03bdbf31bc1e799041">MACIsTxReady</a> (<a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> HighPriority)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#9a1910d847af55acbfd90ef175be44b9">MACPut</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#87a779bb5e5f2c7ffc444f52d696efa2">MACPutArray</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *val, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> len)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#f507be7571c519d47045cc4254f7ff54">MACPutHeader</a> (<a class="el" href="struct___m_a_c___a_d_d_r.html">MAC_ADDR</a> *remote, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> type, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> dataLen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#eed7b940be782d5e2258c5fa4e92b131">MACReserveTxBuffer</a> (<a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a> buffer)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#207ef94301621fdb1c47929a53ebccef">MACSetRxBuffer</a> (<a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> offset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#845d524d6b8db315e1b6ec22a5e34cfd">MACSetTxBuffer</a> (<a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a> buffer, <a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> offset)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#ef28e3b1297d460dd49881b52b6dea45">MACTask</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mac_8h.html#a01f40eae485f3d9bc8098f67f4aea24">NICReset</a> (void)</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
MAC Module for Modtronix TCP/IP Stack. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="user" compact><dt><b>Dependencies: </b></dt><dd>string.h, <a class="el" href="stacktsk_8h.html" title="Stack Task Module for Modtronix TCP/IP Stack.">stacktsk.h</a>, <a class="el" href="helpers_8h.html" title="Helper functions for Modtronix TCP/IP Stack.">helpers.h</a>, <a class="el" href="mac_8h.html" title="MAC Module for Modtronix TCP/IP Stack.">mac.h</a> </dd></dl>
<dl class="user" compact><dt><b>Compiler: </b></dt><dd>MPLAB C18 v2.10 or higher <br>
 HITECH PICC-18 V8.35PL3 or higher</dd></dl>
IMPORTANT! For speed, disable the "Procedural abstraction" optimization when using the MPLAB C18 compiler!<h2><a class="anchor" name="description">
Description</a></h2>
The MAC module contains the driver software for the RTL8019AS NIC chip. It provides functions for reading and writing data from and to it. <br>
For a detailed description, see the <a class="el" href="group__mod__tcpip__base__mac.html">Ethernet</a> section of this document - in [Modules] [TCP/IP Stack] [TCP/IP Base Protocols].<h2><a class="anchor" name="mac_conf">
Configuration</a></h2>
The following defines are used to configure this module, and should be placed in the <a class="el" href="projdefs_8h.html" title="Project configuration.">projdefs.h</a> (or similar) file. For details, see <a class="el" href="group__mod__conf__projdefs.html">Project Configuration</a>. To configure the module, the required defines should be uncommended, and the rest commented out. <div class="fragment"><pre class="fragment"> <span class="comment">//*********************************************************************</span>
 <span class="comment">//--------------------  Mac Configuration --------------------</span>
 <span class="comment">//*********************************************************************</span>
 <span class="comment">//When STACK_USE_FAST_NIC is defined, a bit longer, but faster code is used.</span>
<span class="preprocessor"> #define STACK_USE_FAST_NIC</span>
<span class="preprocessor"></span>
 <span class="comment">//When defined, the code will be compiled for optimal speed. If not defined, code is defined for smallest size.</span>
<span class="preprocessor"> #define MAC_SPEED_OPTIMIZE</span>
<span class="preprocessor"></span>
 <span class="comment">//STACK_DISABLES_INTS can be defined if interrupts are to be disabled during the MAC access routines</span>
 <span class="comment">//#define STACK_DISABLES_INTS</span>

 <span class="comment">//Only valid for the SBC44EC board! If defined, port B6 and B7 will be available for general purpose I/O.</span>
 <span class="comment">//The Ethernet port will however be a bit slower.</span>
<span class="preprocessor"> #define NIC_ENABLE_B6B7</span>
<span class="preprocessor"></span>
 <span class="comment">//NIC_DISABLE_INT0 can be defined if the MAC should NOT use INT0 (connected to PIC port RB0) for it's</span>
 <span class="comment">//interrupt request status line. When defined, INT0 is tri-stated, and the PIC port pin connected to</span>
 <span class="comment">//it can be used as a general purpose user IO pin. The PIC port pin that becomes available is:</span>
 <span class="comment">// - For SBC44EC this has no affect - no PIC pins are connected to the interrupt pins</span>
 <span class="comment">// - For SBC45EC this has no affect - no PIC pins are connected to the interrupt pins</span>
 <span class="comment">// - For SBC65EC and SBC68EC this frees up PIC pin RB0.</span>
<span class="preprocessor"> #define NIC_DISABLE_INT0</span>
<span class="preprocessor"></span>
 <span class="comment">//NIC_DISABLE_IOCHRDY can be defined if the MAC should NOT use the IOCHRDY signal on the RTL8019AS chip. This</span>
 <span class="comment">//will mean that an additional PIC pin will be available for general purpose use. To use this port pin, the</span>
 <span class="comment">//connection to the IOCHRDY signal on RTL8019AS must be broken. This can be done via solder jumpers on certian</span>
 <span class="comment">//SBC boards.</span>
 <span class="comment">// - For SBC44EC PIC port pin B5 will be available for user IO. Solder jumper SJ5 must be opened!</span>
 <span class="comment">// - For SBC45EC PIC port pin A4 will be available for user IO. Solder jumper SJ5 must be opened!</span>
 <span class="comment">// - For SBC65EC and SBC68EC this frees up PIC pin RG4. This pin is currently however not routed to an connectors</span>
<span class="preprocessor"> #define NIC_DISABLE_IOCHRDY</span>
<span class="preprocessor"></span>
 <span class="comment">//Keep a count of CNTR1 - CNTR3 registers. This can be used for debug purposes, and can be disabled for</span>
 <span class="comment">//release code.</span>
 <span class="comment">//#define MAC_CNTR1_3</span>

 <span class="comment">//Use access RAM variables to optiomize speed and code size. There are only a limited amount of access RAM</span>
 <span class="comment">//registers in the PIC processor. If they are not used by any other code modules, this define should be enabled</span>
 <span class="comment">//seeing that it will speed up the MAC module quite a bit. If they are not available, an error message will be</span>
 <span class="comment">//displayed during compilation.</span>
 <span class="comment">//#define MAC_USE_ACCESSRAM</span>

 <span class="comment">//This define must be define when using this MAC</span>
<span class="preprocessor"> #define MAC_RTL8019AS</span>
</pre></div> <hr><h2>Define Documentation</h2>
<a class="anchor" name="9f45976a0d1fa6f0a85a74b6efd93835"></a><!-- doxytag: member="mac.h::INVALID_BUFFER" ref="9f45976a0d1fa6f0a85a74b6efd93835" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define INVALID_BUFFER&nbsp;&nbsp;&nbsp;(0xfful)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="868e3cdf5cef114534af09415b240062"></a><!-- doxytag: member="mac.h::MAC_ARP" ref="868e3cdf5cef114534af09415b240062" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAC_ARP&nbsp;&nbsp;&nbsp;(0x6ul)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ec5cf3aa174db8b2a3ac0ec39f20c0f3"></a><!-- doxytag: member="mac.h::MAC_GETARR_ALL" ref="ec5cf3aa174db8b2a3ac0ec39f20c0f3" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAC_GETARR_ALL&nbsp;&nbsp;&nbsp;(0x00ul)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
TCPGetArrayChr return codes 
</div>
</div><p>
<a class="anchor" name="c645456a4876f1bc3aab716694ae1638"></a><!-- doxytag: member="mac.h::MAC_GETARR_RETMASK" ref="c645456a4876f1bc3aab716694ae1638" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAC_GETARR_RETMASK&nbsp;&nbsp;&nbsp;(0xF0ul)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="d452725041946775668f333abcc766e9"></a><!-- doxytag: member="mac.h::MAC_GETARR_TRM" ref="d452725041946775668f333abcc766e9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAC_GETARR_TRM&nbsp;&nbsp;&nbsp;(0x20ul)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5e9a7bd784ee7afa39b994ce2ecd536d"></a><!-- doxytag: member="mac.h::MAC_IP" ref="5e9a7bd784ee7afa39b994ce2ecd536d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAC_IP&nbsp;&nbsp;&nbsp;(0ul)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="6549fa915e49b5f2948ea00fa8c5d59a"></a><!-- doxytag: member="mac.h::MAC_UNKNOWN" ref="6549fa915e49b5f2948ea00fa8c5d59a" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAC_UNKNOWN&nbsp;&nbsp;&nbsp;(0x0fful)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="676fa5e57c9a04c2eb2e388c973f9f43"></a><!-- doxytag: member="mac.h::MAC_ADDR" ref="676fa5e57c9a04c2eb2e388c973f9f43" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___m_a_c___a_d_d_r.html">_MAC_ADDR</a>  <a class="el" href="struct___m_a_c___a_d_d_r.html">MAC_ADDR</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Structure for storing Ethernet address 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="6f0a2614cde1253e6edcc78d1a069b79"></a><!-- doxytag: member="mac.h::MACDiscardRx" ref="6f0a2614cde1253e6edcc78d1a069b79" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACDiscardRx           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Discard the contents of the current RX buffer. 
</div>
</div><p>
<a class="anchor" name="d5650bf4b32193a695ac7f6bd1541473"></a><!-- doxytag: member="mac.h::MACDiscardTx" ref="d5650bf4b32193a695ac7f6bd1541473" args="(BUFFER buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACDiscardTx           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a>&nbsp;</td>
          <td class="paramname"> <em>buffer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Discard the given transmit buffer<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer identifier, is a number from 0-255 identifying the buffer </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="38dc2cc8c71b2f6bfe51ea8db2acc67c"></a><!-- doxytag: member="mac.h::MACFlush" ref="38dc2cc8c71b2f6bfe51ea8db2acc67c" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACFlush           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Flush the MAC 
</div>
</div><p>
<a class="anchor" name="24b67ec68e80243ca4fdcfaaf0a91072"></a><!-- doxytag: member="mac.h::MACGet" ref="24b67ec68e80243ca4fdcfaaf0a91072" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> MACGet           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads a single byte via Remote DMA from the current MAC Receive buffer. If the last byte of the RX Buffer was read, this function automatically updates the Remote DMA read address to the first page of the RX Buffer. See PreConditions for more info.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>Remote DMA address has to be set up prior to calling this function. The Remote DMA registers are NOT configured by this function, and simply continue reading from the current "Remote DMA Address". A function like <a class="el" href="mac_8h.html#18cabbf973ecec4ba5b67dc2c729b753">MACGetHeader()</a> can be called prior to this function to configure Remote DMA to read the next packet in RX Buffer (situated in Remote DMA RAM)</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Read Byte </dd></dl>

</div>
</div><p>
<a class="anchor" name="89d13e85195c0d00f308194305845016"></a><!-- doxytag: member="mac.h::MACGetArray" ref="89d13e85195c0d00f308194305845016" args="(BYTE *val, WORD len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> MACGetArray           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the given amount of bytes via Remote DMA from the current MAC Receive buffer. If the end of the RX Buffer is reached, this function automatically rolls over to the first page of the RX Ring Buffer. See PreConditions below for more info.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>Remote DMA address has to be set up prior to calling this function. The Remote DMA registers are NOT configured by this function, and simply continue reading from the current "Remote DMA Address". A function like <a class="el" href="mac_8h.html#18cabbf973ecec4ba5b67dc2c729b753">MACGetHeader()</a> can be called prior to this function to configure Remote DMA to read the next packet in RX Buffer (situated in Remote DMA RAM)</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of array to be read </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Buffer to read packet into</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Number of bytes read </dd></dl>

</div>
</div><p>
<a class="anchor" name="bf4662d6909f7924d62eb1f947b4b232"></a><!-- doxytag: member="mac.h::MACGetArrayChr" ref="bf4662d6909f7924d62eb1f947b4b232" args="(BYTE *val, BYTE len, BYTE chr)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> MACGetArrayChr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>len</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>chr</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the given amount of bytes via Remote DMA from the current MAC Receive buffer, and copies them to the given destination buffer until:<ul>
<li>The given buffer for returning the read array is full</li><li>The given Chr terminating character in found (is also copied to destination buffer) If the end of the RX Buffer is reached, this function automatically rolls over to the first page of the RX Ring Buffer. See PreConditions below for more info.</li></ul>
<p>
If the termination character is found, it is also copied to the destination folder. In this case the returned value indicating the number of bytes read will also include this byte.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>Remote DMA address has to be set up prior to calling this function. The Remote DMA registers are NOT configured by this function, and simply continue reading from the current "Remote DMA Address". A function like <a class="el" href="mac_8h.html#18cabbf973ecec4ba5b67dc2c729b753">MACGetHeader()</a> can be called prior to this function to configure Remote DMA to read the next packet in RX Buffer (situated in Remote DMA RAM)</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>val</em>&nbsp;</td><td>Buffer to read packet into. If NULL, nothing is written to the buffer. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of array to be read, maximum length is 255 </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>chr</em>&nbsp;</td><td>Character to look for, that will terminate read</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The LSB (Bits 0-7) gives number of bytes loaded into buffer, including the terminating character if found! The MSB (bit 8-15) is a return code. The return code in the MSB has the following meaning:<ul>
<li>MAC_GETARR_ALL: All requested bytes were read, buffer was filled. The LSB will contain the number of bytes read = original length we passed this function.</li><li>MAC_GETARR_TRM: The given terminating character was found. The LSB will contain the number of byres read, including the terminating character. </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="853f9bc96814d6d6ff8ef7a19f84d973"></a><!-- doxytag: member="mac.h::MACGetFreeRxSize" ref="853f9bc96814d6d6ff8ef7a19f84d973" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> MACGetFreeRxSize           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function returns total receive buffer size available for future data packets. 
</div>
</div><p>
<a class="anchor" name="18cabbf973ecec4ba5b67dc2c729b753"></a><!-- doxytag: member="mac.h::MACGetHeader" ref="18cabbf973ecec4ba5b67dc2c729b753" args="(MAC_ADDR *remote, BYTE *type)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> MACGetHeader           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___m_a_c___a_d_d_r.html">MAC_ADDR</a> *&nbsp;</td>
          <td class="paramname"> <em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>type</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if the MAC Receive Buffer has any received packets. Reads the following data from the next available packet in the RX buffer: <ul>
<li>
The MAC 4 bytes RX packet header (status, nex receive packet, length)  </li>
<li>
The 14 byte Ethernet header </li>
</ul>
Once a data packet is fetched by calling MACGetHeader, the complete data packet must be fetched (using MACGet) and discarded (using MACDiscardRx). Users cannot call MACGetHeader multiple times to receive multiple packets and fetch data later on.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>remote</em>&nbsp;</td><td>Pointer to a MAC_ADDR structure. This function will write the MAC address of the node who sent this packet to this structure </td></tr>
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>type</em>&nbsp;</td><td>Pointer to byte. This function will write the type of header to this variable. Can be ETHER_IP, ETHER_ARP or MAC_UNKNOWN</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if RX Buffer contained a packet and it's header was read, False if not </dd></dl>

</div>
</div><p>
<a class="anchor" name="ecf4969d75b8137bb71287e49086e5fd"></a><!-- doxytag: member="mac.h::MACGetNICAddr" ref="ecf4969d75b8137bb71287e49086e5fd" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> MACGetNICAddr           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current Remote DMA address. This is the address set by the NICSetAddr register. It will however be incremented after each Remote DMA read. The <a class="el" href="mac_8h.html#24b67ec68e80243ca4fdcfaaf0a91072">MACGet()</a> function for example does a remote DMA read.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The current Remote DMA address. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e39e7ab671f17de9eab5071f148cafe6"></a><!-- doxytag: member="mac.h::MACGetTxBuffer" ref="e39e7ab671f17de9eab5071f148cafe6" args="(BOOL HighPriority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a> MACGetTxBuffer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>HighPriority</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get handle of current transmit buffer. Is a number from 0-254. The current transmit buffer will automatically be set to the next available buffer after a <a class="el" href="mac_8h.html#38dc2cc8c71b2f6bfe51ea8db2acc67c">MACFlush()</a> function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>HighPriority</em>&nbsp;</td><td>Not used for this (RTL8019AS) MAC. High priority messages are those that don't need to be acknowledged before being discarded (TCP control packets, all ICMP packets, all UDP packets, etc.)</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Handle of current transmit buffer. Is a number from 0-254, or INVALID_BUFFER is nothing available. </dd></dl>

</div>
</div><p>
<a class="anchor" name="26cccc5919dcabb5777c3f6127648e9f"></a><!-- doxytag: member="mac.h::MACInit" ref="26cccc5919dcabb5777c3f6127648e9f" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="0b700fbc3ad2a6c7c389026bfd38e0f1"></a><!-- doxytag: member="mac.h::MACIsLinked" ref="0b700fbc3ad2a6c7c389026bfd38e0f1" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> MACIsLinked           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if the MAC is linked<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if linked, else FALSE </dd></dl>

</div>
</div><p>
<a class="anchor" name="1d7b8fc95a465b03bdbf31bc1e799041"></a><!-- doxytag: member="mac.h::MACIsTxReady" ref="1d7b8fc95a465b03bdbf31bc1e799041" args="(BOOL HighPriority)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> MACIsTxReady           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>HighPriority</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if ready for next transmission.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>HighPriority</em>&nbsp;</td><td>Not used for this implementation High priority messages are those that don't need to be acknowledged before being discarded (TCP control packets, all ICMP packets, all UDP packets, etc.)</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if transmit buffer is empty <br>
 FALSE if transmit buffer is not empty </dd></dl>

</div>
</div><p>
<a class="anchor" name="9a1910d847af55acbfd90ef175be44b9"></a><!-- doxytag: member="mac.h::MACPut" ref="9a1910d847af55acbfd90ef175be44b9" args="(BYTE val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACPut           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>val</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write a single byte to the Remote DMA. The byte is written to the current Remote DMA address.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Byte to write to Remote DMA </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="87a779bb5e5f2c7ffc444f52d696efa2"></a><!-- doxytag: member="mac.h::MACPutArray" ref="87a779bb5e5f2c7ffc444f52d696efa2" args="(BYTE *val, WORD len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACPutArray           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>val</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write given array of bytes to NIC's RAM<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Pointer to byte array of bytes that are to be written to the NIC's RAM </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Lengh of array given in val </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="f507be7571c519d47045cc4254f7ff54"></a><!-- doxytag: member="mac.h::MACPutHeader" ref="f507be7571c519d47045cc4254f7ff54" args="(MAC_ADDR *remote, BYTE type, WORD dataLen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACPutHeader           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___m_a_c___a_d_d_r.html">MAC_ADDR</a> *&nbsp;</td>
          <td class="paramname"> <em>remote</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>type</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>dataLen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function writes the MAC header (Ethernet header) part of a packet that has to be transmitted to the current TX buffer (page in NIC RAM). After this function, the data must still be written to the TX buffer. After both header and data has been written, bits are set to instruct NIC to transmit transmit buffer. This function does the following: <ul>
<li>
Reset the NIC Remote DMA write pointer to the first byte of the current TX Buffer  </li>
<li>
Write the given header to the current TX Buffer  </li>
<li>
Set the NIC Remote DMA byte count to the given len. This configures the Remote DMA to receive the given number of bytes. </li>
</ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"><tt>[out]</tt>&nbsp;</td><td valign="top"><em>remote</em>&nbsp;</td><td>Pointer to a MAC_ADDR structure. This function will write the MAC address of the node who sent this packet to this structure </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>type</em>&nbsp;</td><td>Type of header. Can be ETHER_IP, ETHER_ARP or MAC_UNKNOWN </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dataLen</em>&nbsp;</td><td>Size of the Data of this Ethernet packet. A Ethernet packet consists of: <br>
<ul>
<li>6 Bytes = Desitination MAC address <br>
</li><li>6 Bytes = Source MAC address <br>
</li><li>2 Bytes = Type field, currently only IP or ARP <br>
</li><li>n Bytes = Data. Minimum length of 46 bytes <br>
<br>
 The data will be written to the TX buffer following this command.</li></ul>
</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>True if header was read, False if not </dd></dl>

</div>
</div><p>
<a class="anchor" name="eed7b940be782d5e2258c5fa4e92b131"></a><!-- doxytag: member="mac.h::MACReserveTxBuffer" ref="eed7b940be782d5e2258c5fa4e92b131" args="(BUFFER buffer)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACReserveTxBuffer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a>&nbsp;</td>
          <td class="paramname"> <em>buffer</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function reserves a given transmit buffer and marks it as unavailable. This function is useful for TCP layer where a message would be queued until it is correctly acknowledged by remote host.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>Buffer identifier, is a number from 0-255 identifying the buffer </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="207ef94301621fdb1c47929a53ebccef"></a><!-- doxytag: member="mac.h::MACSetRxBuffer" ref="207ef94301621fdb1c47929a53ebccef" args="(WORD offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACSetRxBuffer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>offset</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function sets the access location for the active receive buffer, relative to the first byte following the Ethernet header. If the given offset is thus 0, the access location will be set to the first byte of whatever follows the Ethernet header, for example the IP packet or ARP packet. Users must make sure that the supplied offset does not go beyond current receive buffer content. If offset overruns the current receive buffer, all subsequent access to that buffer would yield invalid data.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Location (with respect to first byte following Ethernet header) where next access is to occur. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="845d524d6b8db315e1b6ec22a5e34cfd"></a><!-- doxytag: member="mac.h::MACSetTxBuffer" ref="845d524d6b8db315e1b6ec22a5e34cfd" args="(BUFFER buffer, WORD offset)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACSetTxBuffer           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#99cb3c226656246f5abbc89a13898df0">BUFFER</a>&nbsp;</td>
          <td class="paramname"> <em>buffer</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td>
          <td class="paramname"> <em>offset</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function makes the given transmit buffer active, and sets it's access pointer to be: <br>
<ul>
<li>At the given offset after the Ethernet header <br>
</li><li>In the given TX Buffer <br>
<br>
 So, if we pass 0 in as the offset, we will set the pointer to the first byte of after the Ethernet header. Users must make sure that the supplied offset does not go beyond current transmit buffer content. If offset overruns the current transmit buffer, all subsequent access to that buffer would yield invalid data.</li></ul>
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>buffer</em>&nbsp;</td><td>A transmit buffer where this access offset be applied </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>offset</em>&nbsp;</td><td>Location (with respect to beginning of buffer) where next access is to occur </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="ef28e3b1297d460dd49881b52b6dea45"></a><!-- doxytag: member="mac.h::MACTask" ref="ef28e3b1297d460dd49881b52b6dea45" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void MACTask           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Function for performing MAC related tasks<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>: Must be called every couple of ms </dd></dl>

</div>
</div><p>
<a class="anchor" name="a01f40eae485f3d9bc8098f67f4aea24"></a><!-- doxytag: member="mac.h::NICReset" ref="a01f40eae485f3d9bc8098f67f4aea24" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void NICReset           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reset the NIC 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 14 08:54:21 2010 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
