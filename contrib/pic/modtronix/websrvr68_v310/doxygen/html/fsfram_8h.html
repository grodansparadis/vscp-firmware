<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: net/fsfram.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>net/fsfram.h File Reference</h1>FSFRAM Module for Modtronix TCP/IP Stack.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___f_s_f_r_a_m___f_i_l_e___i_n_f_o.html">_FSFRAM_FILE_INFO</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#e47585753fd4060c5dc167d8bcb24568">FSFRAM_FILE</a>&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#e5e8337198b1142fbd24218f420ee633">FSFRAM_FILE_INVALID</a>&nbsp;&nbsp;&nbsp;0xfful</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#f3f40e9c3e4bb74221cc2e49adba74ea">FSFRAM_FILE_POS</a>&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#f79637f8756141ea0787931de7262009">FSFRAM_MAX_FILES</a>&nbsp;&nbsp;&nbsp;1</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#730be60757e9a3712caf38fd6b4bfb96">FSFRAM_NOT_AVAILABLE</a>&nbsp;&nbsp;&nbsp;0xfeul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#0d0ec75837fc470382306e6d495ac105">FSFRAM_POS</a>&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#a5a54c506ece9a087afb15574d95954d">SWORD</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#81dc174f082c054b1383bba34be85276">FSFRAMFILE_EOF</a>&nbsp;&nbsp;&nbsp;0x40ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#126885ea1316b44c7656ea91e6f7cfe8">FSFRAMFILE_ERROR</a>&nbsp;&nbsp;&nbsp;0x20ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#1cc4ed6a8c1f1b264534ece20a0c81ab">FSFRAMFILE_READING</a>&nbsp;&nbsp;&nbsp;0x02ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#81e43d94879ad7fa2a8a6b8f30e0163c">FSFRAMFILE_RES</a>&nbsp;&nbsp;&nbsp;0x80ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#502e9f518d2e528006d0f85b0fbc98c8">FSFRAMFILE_USED</a>&nbsp;&nbsp;&nbsp;0x01ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#dd4492afa13d7595327c56eb084ab15b">FSFRAMFILE_WRITING</a>&nbsp;&nbsp;&nbsp;0x04ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#4a3c00f6765b1759a7d46ecb7af82ac0">FSFRAMFLAG_AVAILABLE</a>&nbsp;&nbsp;&nbsp;0x01ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#a6e2fc567f4b8e3b4d8d5ea5e44696f0">FSFRAMFLAG_READING_WRITING</a>&nbsp;&nbsp;&nbsp;0x02ul</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#e5a2901810110e3a35afeac19343401f">fsframHasError</a>(fhandle)&nbsp;&nbsp;&nbsp;(<a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a>[0].flags &amp; FSFRAMFILE_ERROR)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#76361ce6d684e2e440fcb2c6299762fd">fsframIsEOF</a>(fhandle)&nbsp;&nbsp;&nbsp;(<a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a>[0].flags &amp; FSFRAMFILE_EOF)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#e70913da024e90ce367873516208cb21">fsframIsInUse</a>()&nbsp;&nbsp;&nbsp;((<a class="el" href="fsfram_8h.html#27093d683bbeeebdaded00d0f4d45747">fsframFlags</a> &amp; FSFRAMFLAG_AVAILABLE) == 0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#32473aa13c3bd678e187f1bbd9231d27">fsframIsOK</a>(fhandle)&nbsp;&nbsp;&nbsp;(<a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a>[0].flags &amp; (FSFRAMFILE_ERROR | FSFRAMFILE_EOF))</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#87316551c4f2cc1f0f6ddc5800710be2">fsframIsValidHandle</a>(fhandle)&nbsp;&nbsp;&nbsp;(fhandle &lt; FSFRAM_MAX_FILES)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef struct <a class="el" href="struct___f_s_f_r_a_m___f_i_l_e___i_n_f_o.html">_FSFRAM_FILE_INFO</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#decde2d1d7f1e0c4ebe0415824d8ca5e">FSFRAM_FILE_INFO</a></td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#8d19aa43b30d658b7cbcb23be4b25849">fsframClose</a> (FSFRAM_FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#c3cf7cf4af3614b3f568e21f5797b2aa">fsframCloseImage</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#1a9c4740e4ed1204f75f458833e61d41">fsframFlush</a> (FSFRAM_FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#9d25e903002f8994e19cb48cb8824a80">fsframFormat</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#69c8b50eba62e3bc1133b9d411482ab7">fsframGetByte</a> (FSFRAM_FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FSFRAM_POS&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#90d68f3d9fe30933461b8fc397702b65">fsframGetFAT</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *name)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FSFRAM_FILE_POS&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#debf962548bba3e62449613e03ba2fdd">fsframGetPos</a> (FSFRAM_FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#b2fa4924a1cdec98bfa9e732c412dbdb">fsframInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FSFRAM_FILE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#72e2c452f7be943780d48f4a33cd8050">fsframOpen</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *name, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">FSFRAM_FILE&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#6019a5913858e9a69607204d7693f74a">fsframOpenFAT</a> (FSFRAM_POS fatPos)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#f97f1b82454bba40e310ea0b991fb95e">fsframOpenImage</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#2a4053190fce8731edfe57cef5f52577">fsframPutByte</a> (FSFRAM_FILE fhandle, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#7f056cf2fbe073729fba6a0747456f1a">fsframPutByteImage</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> b)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#b1181c2ce2447f104f5c7decd664d2e2">fsframRelease</a> (FSFRAM_FILE fhandle)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#2638c12bb2a4c13eabeec322430e0cc3">fsframSetPos</a> (FSFRAM_FILE fhandle, FSFRAM_FILE_POS put)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="struct___f_s_f_r_a_m___f_i_l_e___i_n_f_o.html">FSFRAM_FILE_INFO</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a> [FSFRAM_MAX_FILES]</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#27093d683bbeeebdaded00d0f4d45747">fsframFlags</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fsfram_8h.html#70a8f90a5facd49ed59f95e87cc2f48b">fsframOpenCount</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
FSFRAM Module for Modtronix TCP/IP Stack. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="user" compact><dt><b>Dependencies: </b></dt><dd><a class="el" href="stacktsk_8h.html" title="Stack Task Module for Modtronix TCP/IP Stack.">stacktsk.h</a> </dd></dl>
<dl class="user" compact><dt><b>Compiler: </b></dt><dd>MPLAB C18 v2.10 or higher <br>
 HITECH PICC-18 V8.35PL3 or higher</dd></dl>
<h2><a class="anchor" name="description">
Description</a></h2>
This module contains the code for integrating a FRAM into the Modtronix File System. <br>
For a detailed description, see the <a class="el" href="group__mod__sys__fsfram.html">File System FSFRAM</a> section of this document - in [Modules] [System Modules].<h2><a class="anchor" name="fsfram_conf">
Configuration</a></h2>
The following defines are used to configure this module, and should be placed in the <a class="el" href="projdefs_8h.html" title="Project configuration.">projdefs.h</a> (or similar) file. For details, see <a class="el" href="group__mod__conf__projdefs.html">Project Configuration</a>. To configure the module, the required defines should be uncommended, and the rest commented out. <div class="fragment"><pre class="fragment"><span class="comment">//*********************************************************************</span>
<span class="comment">//--------------------  File System Configuration --------------------</span>
<span class="comment">//*********************************************************************</span>
<span class="comment">//Defines the maximum size of a file used in the file system.</span>
<span class="comment">//When FSFRAM_FILE_SIZE_16MB is defined, the file system can handle files with a size of up to 16 Mbytes.</span>
<span class="comment">//When not defined, the maximum size of a file is 64 Kbyte.</span>
<span class="comment">//When defined, the FSFRAM16M File System will be created.</span>
<span class="comment">//when NOT defined, the FSFRAM File System will be created.</span>
<span class="preprocessor">#define FSFRAM_FILE_SIZE_16MB</span>
<span class="preprocessor"></span>
<span class="comment">//Specifies the maximum number of files that can be open at any one time. When defined as 1, the code</span>
<span class="comment">//will be much faster and smaller. This value should not be much less then the the number of HTTP</span>
<span class="comment">//Connections, seeing that each HTTP connection can have a open file. If most web page files are</span>
<span class="comment">//small (below 2 kbytes) then this is not so important.</span>
<span class="preprocessor">#define FSFRAM_MAX_FILES 1</span>
<span class="preprocessor"></span>
<span class="comment">//When this define is present, the FSFRAM File System is used as the primary file system. All functions</span>
<span class="comment">//Will be remapped to general names, for example fsframOpen() will be mapped to fileOpen. This makes switching</span>
<span class="comment">//between different File System much simpler.</span>
<span class="comment">//#define FSFRAM_IS_PRIMARY_FS</span>
</pre></div> <hr><h2>Define Documentation</h2>
<a class="anchor" name="e47585753fd4060c5dc167d8bcb24568"></a><!-- doxytag: member="fsfram.h::FSFRAM_FILE" ref="e47585753fd4060c5dc167d8bcb24568" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAM_FILE&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE handle. Each open files is assigned a file handle.<ul>
<li>Valid values are from 0 - 127</li><li>FSFRAM_FILE_INVALID indicates an invalid file</li><li>FSFRAM_NOT_AVAILABLE indicates that the File System is not available </li></ul>

</div>
</div><p>
<a class="anchor" name="e5e8337198b1142fbd24218f420ee633"></a><!-- doxytag: member="fsfram.h::FSFRAM_FILE_INVALID" ref="e5e8337198b1142fbd24218f420ee633" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAM_FILE_INVALID&nbsp;&nbsp;&nbsp;0xfful          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
When FILE Handle has this value, it indicates an invalid file 
</div>
</div><p>
<a class="anchor" name="f3f40e9c3e4bb74221cc2e49adba74ea"></a><!-- doxytag: member="fsfram.h::FSFRAM_FILE_POS" ref="f3f40e9c3e4bb74221cc2e49adba74ea" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAM_FILE_POS&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE position pointer. A variable that can be used to give the offset anywhere in a file. File length 
</div>
</div><p>
<a class="anchor" name="f79637f8756141ea0787931de7262009"></a><!-- doxytag: member="fsfram.h::FSFRAM_MAX_FILES" ref="f79637f8756141ea0787931de7262009" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAM_MAX_FILES&nbsp;&nbsp;&nbsp;1          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="730be60757e9a3712caf38fd6b4bfb96"></a><!-- doxytag: member="fsfram.h::FSFRAM_NOT_AVAILABLE" ref="730be60757e9a3712caf38fd6b4bfb96" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAM_NOT_AVAILABLE&nbsp;&nbsp;&nbsp;0xfeul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
When FILE Handle has this value, it indicates that the File System is not available 
</div>
</div><p>
<a class="anchor" name="0d0ec75837fc470382306e6d495ac105"></a><!-- doxytag: member="fsfram.h::FSFRAM_POS" ref="0d0ec75837fc470382306e6d495ac105" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAM_POS&nbsp;&nbsp;&nbsp;<a class="el" href="compiler_8h.html#a5a54c506ece9a087afb15574d95954d">SWORD</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File System position pointer. A variable that can be used to give the offset anywhere in the File System. File address in the File System 
</div>
</div><p>
<a class="anchor" name="81dc174f082c054b1383bba34be85276"></a><!-- doxytag: member="fsfram.h::FSFRAMFILE_EOF" ref="81dc174f082c054b1383bba34be85276" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFILE_EOF&nbsp;&nbsp;&nbsp;0x40ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. When set, indicates that then end of file has been reached. 
</div>
</div><p>
<a class="anchor" name="126885ea1316b44c7656ea91e6f7cfe8"></a><!-- doxytag: member="fsfram.h::FSFRAMFILE_ERROR" ref="126885ea1316b44c7656ea91e6f7cfe8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFILE_ERROR&nbsp;&nbsp;&nbsp;0x20ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. When set, indicates that an error has occured with this file. 
</div>
</div><p>
<a class="anchor" name="1cc4ed6a8c1f1b264534ece20a0c81ab"></a><!-- doxytag: member="fsfram.h::FSFRAMFILE_READING" ref="1cc4ed6a8c1f1b264534ece20a0c81ab" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFILE_READING&nbsp;&nbsp;&nbsp;0x02ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. Indicates that we are currently reading from this file. For SPI devices, this means that the memory chip is in sequencial read mode and has control of the SPI bus! Before the bus can be used by any other node, it has to be released! 
</div>
</div><p>
<a class="anchor" name="81e43d94879ad7fa2a8a6b8f30e0163c"></a><!-- doxytag: member="fsfram.h::FSFRAMFILE_RES" ref="81e43d94879ad7fa2a8a6b8f30e0163c" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFILE_RES&nbsp;&nbsp;&nbsp;0x80ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. Reserve (don't use) signed bit, is implemented differently by different compilers 
</div>
</div><p>
<a class="anchor" name="502e9f518d2e528006d0f85b0fbc98c8"></a><!-- doxytag: member="fsfram.h::FSFRAMFILE_USED" ref="502e9f518d2e528006d0f85b0fbc98c8" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFILE_USED&nbsp;&nbsp;&nbsp;0x01ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. When set, indicates that this file is being used. 
</div>
</div><p>
<a class="anchor" name="dd4492afa13d7595327c56eb084ab15b"></a><!-- doxytag: member="fsfram.h::FSFRAMFILE_WRITING" ref="dd4492afa13d7595327c56eb084ab15b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFILE_WRITING&nbsp;&nbsp;&nbsp;0x04ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE flag. Indicates that we are currently writing to this file. For SPI devices, this means that the memory chip is in sequencial write mode and has control of the SPI bus! Before the bus can be used by any other node, it has to be released! 
</div>
</div><p>
<a class="anchor" name="4a3c00f6765b1759a7d46ecb7af82ac0"></a><!-- doxytag: member="fsfram.h::FSFRAMFLAG_AVAILABLE" ref="4a3c00f6765b1759a7d46ecb7af82ac0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFLAG_AVAILABLE&nbsp;&nbsp;&nbsp;0x01ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File System flag. When set, indicates that the File System is available. 
</div>
</div><p>
<a class="anchor" name="a6e2fc567f4b8e3b4d8d5ea5e44696f0"></a><!-- doxytag: member="fsfram.h::FSFRAMFLAG_READING_WRITING" ref="a6e2fc567f4b8e3b4d8d5ea5e44696f0" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FSFRAMFLAG_READING_WRITING&nbsp;&nbsp;&nbsp;0x02ul          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
File System flag. When set, indicates that the File System is currently busy with a read or write operation. This File System can only perform a single read or write operation at any time. This flag is set as soon as a open file is read from or written to. It is cleared as soon as the open file is released or closed. 
</div>
</div><p>
<a class="anchor" name="e5a2901810110e3a35afeac19343401f"></a><!-- doxytag: member="fsfram.h::fsframHasError" ref="e5a2901810110e3a35afeac19343401f" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsframHasError          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a>[0].flags &amp; FSFRAMFILE_ERROR)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the last operation on the given file generated an error.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if last operation on file generated and error. <br>
 FALSE if otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="76361ce6d684e2e440fcb2c6299762fd"></a><!-- doxytag: member="fsfram.h::fsframIsEOF" ref="76361ce6d684e2e440fcb2c6299762fd" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsframIsEOF          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a>[0].flags &amp; FSFRAMFILE_EOF)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the given file has reached it's EOF. This will happen:<ul>
<li>After the last byte has been read from an open file.</li><li>After the last byte has been written to an open file.</li></ul>
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if given file has reached end of file. <br>
 FALSE if otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="e70913da024e90ce367873516208cb21"></a><!-- doxytag: member="fsfram.h::fsframIsInUse" ref="e70913da024e90ce367873516208cb21" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsframIsInUse          </td>
          <td>(</td>
&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;((<a class="el" href="fsfram_8h.html#27093d683bbeeebdaded00d0f4d45747">fsframFlags</a> &amp; FSFRAMFLAG_AVAILABLE) == 0)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Indicates if the File System is currently in use.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if it is currently being used FALSE if not </dd></dl>

</div>
</div><p>
<a class="anchor" name="32473aa13c3bd678e187f1bbd9231d27"></a><!-- doxytag: member="fsfram.h::fsframIsOK" ref="32473aa13c3bd678e187f1bbd9231d27" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsframIsOK          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(<a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a>[0].flags &amp; (FSFRAMFILE_ERROR | FSFRAMFILE_EOF))</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the last operation on the given file completed without an EOF or Error. If this function returns false, use the <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> and <a class="el" href="fs_8h.html#1052d9a94ff9e794b10b6ff1d1b45d6b">fileIsOK()</a> functions to determine exact condition.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if last operation on file was successfull <br>
 FALSE if the last operation on the file generated and EOF or Error </dd></dl>

</div>
</div><p>
<a class="anchor" name="87316551c4f2cc1f0f6ddc5800710be2"></a><!-- doxytag: member="fsfram.h::fsframIsValidHandle" ref="87316551c4f2cc1f0f6ddc5800710be2" args="(fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define fsframIsValidHandle          </td>
          <td>(</td>
          <td class="paramtype">fhandle&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;(fhandle &lt; FSFRAM_MAX_FILES)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tests if the given FILE handle is a valid handle. A valid FILE handle is a value that could be assigned to an open file. Possible invalid FILE handles are FILE_INVALID and FSYS_NOT_AVAILABLE<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if given FILE handle value could be a valid FILE handle<br>
 FALSE if it is not a possible FILE handle value </dd></dl>

</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="decde2d1d7f1e0c4ebe0415824d8ca5e"></a><!-- doxytag: member="fsfram.h::FSFRAM_FILE_INFO" ref="decde2d1d7f1e0c4ebe0415824d8ca5e" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___f_s_f_r_a_m___f_i_l_e___i_n_f_o.html">_FSFRAM_FILE_INFO</a>  <a class="el" href="struct___f_s_f_r_a_m___f_i_l_e___i_n_f_o.html">FSFRAM_FILE_INFO</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
FILE structure. Each file that is opened is assigned a FILE structure by the File System. 
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="8d19aa43b30d658b7cbcb23be4b25849"></a><!-- doxytag: member="fsfram.h::fsframClose" ref="8d19aa43b30d658b7cbcb23be4b25849" args="(FSFRAM_FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsframClose           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Closes the given file. Seeing that the File System can only have a limited amount of files open at any time (defined by FSFRAM_MAX_FILES), it is very important to call this function after finished with a file!<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FSFRAM_FILE handle of the file to be released </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="c3cf7cf4af3614b3f568e21f5797b2aa"></a><!-- doxytag: member="fsfram.h::fsframCloseImage" ref="c3cf7cf4af3614b3f568e21f5797b2aa" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsframCloseImage           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finishes writing the File System Image<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="1a9c4740e4ed1204f75f458833e61d41"></a><!-- doxytag: member="fsfram.h::fsframFlush" ref="1a9c4740e4ed1204f75f458833e61d41" args="(FSFRAM_FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsframFlush           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Finishes writing any data that has not yet been written to the File System. When writing data to a file via the <a class="el" href="fs_8h.html#96ec02bc1f13abcee04828c0bbacdc70">filePutByte()</a> function, it is not always written straight to the File System Media, but some times to an intermediate buffer. This function will write all pending data from the buffer to the File System Media. 
</div>
</div><p>
<a class="anchor" name="9d25e903002f8994e19cb48cb8824a80"></a><!-- doxytag: member="fsfram.h::fsframFormat" ref="9d25e903002f8994e19cb48cb8824a80" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsframFormat           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Deletes all files present on the File System<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="69c8b50eba62e3bc1133b9d411482ab7"></a><!-- doxytag: member="fsfram.h::fsframGetByte" ref="69c8b50eba62e3bc1133b9d411482ab7" args="(FSFRAM_FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> fsframGetByte           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Reads the next byte from current open file.<p>
Caller must call <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> to check for end of file condition before calling this function to make sure the file has not reached it's end. If the <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> returns true, then this function will have no affect!<p>
Caller must call <a class="el" href="fs_8h.html#9e873fec535aaef09558eb6cca5b9a2f">fileHasError()</a> function after calling this function to ensure byte was read without error!<p>
This function will place the FRAM in sequencial read mode and take control of the SPI bus! To allow other devices to use the SPI bus while the file is open, call <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a> when finished reading some data. When calling fileRead() after calling <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a>, the EEPROM will automatically be placed in sequencial read mode again and take control of the bus.<p>
To read multiple bytes, see <a class="el" href="ex__file__read_8c.html">ex_file_read.c</a> example file.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#fc09d56f0a7c43f8fa35470af3ac4148">fileOpen()</a> != FSFRAM_FILE_INVALID and<br>
 fileGetByteBegin() == TRUE</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FSFRAM_FILE handle of the file to be released</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Data byte from current address. </dd></dl>

</div>
</div><p>
<a class="anchor" name="90d68f3d9fe30933461b8fc397702b65"></a><!-- doxytag: member="fsfram.h::fsframGetFAT" ref="90d68f3d9fe30933461b8fc397702b65" args="(BYTE *name)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FSFRAM_POS fsframGetFAT           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the address in the File System of the requested file's FAT entry. This address can be used as a fast way to open files in the future with the <a class="el" href="fs_8h.html#41b808f900b234029a9151e560c92a87">fileOpenFAT()</a> function.<p>
!!! IMPORTANT !!! The File System FAT entry address obtained with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function will only be valid as long as no modifications are made to the File System! If after obtaining a address with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function the File System is modified, this value might not be valid any more! 
</div>
</div><p>
<a class="anchor" name="debf962548bba3e62449613e03ba2fdd"></a><!-- doxytag: member="fsfram.h::fsframGetPos" ref="debf962548bba3e62449613e03ba2fdd" args="(FSFRAM_FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FSFRAM_FILE_POS fsframGetPos           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the current file pointer for the given file. This is the offset in the given file that the next read or write will be performed on. This value can be used as a parameter to the <a class="el" href="fs_8h.html#7d063fbd5939fe03085fb48590fd90b9">fileSetPos()</a> function at a later stage to restore the current file position. This is NOT the file address in the file system. 
</div>
</div><p>
<a class="anchor" name="b2fa4924a1cdec98bfa9e732c412dbdb"></a><!-- doxytag: member="fsfram.h::fsframInit" ref="b2fa4924a1cdec98bfa9e732c412dbdb" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsframInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes the Modtronix File System<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE, if File System Storage access is initialized and File System is is ready to be used <br>
 FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="72e2c452f7be943780d48f4a33cd8050"></a><!-- doxytag: member="fsfram.h::fsframOpen" ref="72e2c452f7be943780d48f4a33cd8050" args="(BYTE *name, BYTE mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FSFRAM_FILE fsframOpen           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>name</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>mode</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens the given file for reading or writing, and returns a handle to the file. The file pointer (where next read or write will occur) will be positioned at the beginning of the file. To modify the file pointer use the <a class="el" href="fs_8h.html#7d063fbd5939fe03085fb48590fd90b9">fileSetPos()</a> function.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>name</em>&nbsp;</td><td>NULL terminate file name. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>mode</em>&nbsp;</td><td>Currently not used. All files are opened with read and write permission. When writing to a file, no data can be appended to it!</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>- A FILE Handle (value 0 - 127) if the file is found<ul>
<li>FSFRAM_FILE_INVALID if file could not be opened</li><li>FSFRAM_NOT_AVAILABLE if the File System is not available </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="6019a5913858e9a69607204d7693f74a"></a><!-- doxytag: member="fsfram.h::fsframOpenFAT" ref="6019a5913858e9a69607204d7693f74a" args="(FSFRAM_POS fatPos)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">FSFRAM_FILE fsframOpenFAT           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_POS&nbsp;</td>
          <td class="paramname"> <em>fatPos</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Opens the given file for reading or writing, and returns a handle to the file. The file pointer (where next read or write will occur) will be positioned at the beginning of the file. To modify the file pointer use the <a class="el" href="fs_8h.html#7d063fbd5939fe03085fb48590fd90b9">fileSetPos()</a> function.<p>
!!! IMPORTANT !!! The File System FAT entry address obtained with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function will only be valid as long as no modifications are made to the File System! If after obtaining a address with the <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function the File System is modified, this value might not be valid any more!<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fatPos</em>&nbsp;</td><td>The requested File's FAT address in the File System. This value has to be obtained from a <a class="el" href="fs_8h.html#bfdefc59bd7e1c4fff2cad042214c18a">fileGetFAT()</a> function.</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>- A FSFRAM_FILE Handle (value 0 - 127) if the file is found<ul>
<li>FSFRAM_FILE_INVALID if file could not be opened</li><li>FSFRAM_NOT_AVAILABLE if the File System is not available </li></ul>
</dd></dl>

</div>
</div><p>
<a class="anchor" name="f97f1b82454bba40e310ea0b991fb95e"></a><!-- doxytag: member="fsfram.h::fsframOpenImage" ref="f97f1b82454bba40e310ea0b991fb95e" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsframOpenImage           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Prepares the File System to receive a new Image via following calls to <a class="el" href="fsfram_8h.html#7f056cf2fbe073729fba6a0747456f1a">fsframPutByteImage()</a><p>
!!! IMPORTANT !!! This function will overwrite the entire File System! All data will be lost!<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>No files are allowed to be open! If there are any open files when calling this function, it will return FALSE!</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="2a4053190fce8731edfe57cef5f52577"></a><!-- doxytag: member="fsfram.h::fsframPutByte" ref="2a4053190fce8731edfe57cef5f52577" args="(FSFRAM_FILE fhandle, BYTE b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsframPutByte           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>b</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes a byte to the given file.<p>
Caller must call <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> to check for end of file condition before calling this function to make sure the file has not reached it's end. If the <a class="el" href="fs_8h.html#ff39462047281575deb15ef45cd92616">fileIsEOF()</a> returns true, then this function will have no affect!<p>
Writes a byte to the current output. Actual write may not get started until internal write page is full. To ensure that previously data gets written, caller must call <a class="el" href="fs_8h.html#4b642b8b85700b38f111f7a783160503">fileFlush()</a> after last call to <a class="el" href="fs_8h.html#96ec02bc1f13abcee04828c0bbacdc70">filePutByte()</a>.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#fc09d56f0a7c43f8fa35470af3ac4148">fileOpen()</a> was successfully called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FSFRAM_FILE handle to the file to be activated</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>b</em>&nbsp;</td><td>byte to be written</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE if otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="7f056cf2fbe073729fba6a0747456f1a"></a><!-- doxytag: member="fsfram.h::fsframPutByteImage" ref="7f056cf2fbe073729fba6a0747456f1a" args="(BYTE b)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> fsframPutByteImage           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>b</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes a byte to the File System Image. The File System Image contains the following "FSYS Header", "FAT Entries" and "File Data".<p>
!!! IMPORTANT !!! This function will overwrite the entire File System! All data will be lost!<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fsfram_8h.html#f97f1b82454bba40e310ea0b991fb95e">fsframOpenImage()</a> must have been called.</dd></dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>TRUE if successful <br>
 FALSE if otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="b1181c2ce2447f104f5c7decd664d2e2"></a><!-- doxytag: member="fsfram.h::fsframRelease" ref="b1181c2ce2447f104f5c7decd664d2e2" args="(FSFRAM_FILE fhandle)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsframRelease           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Releases any resources that the given open file might be reserving. On certian File Systems, like ones that use FRAMs on a shared SPI bus for example, the File System will take control of the bus once a file is opened. To release the bus so it can be used by other modules, the <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a> function has to be called. At a later stage, when the file has to be used again, the fileActive() function has to be called.<p>
This function should be called when a file has been opened, and we don't want to close it now, but still want to use it at a later stage. In this case, we can call <a class="el" href="fs_8h.html#dd08088dd19c03f1b802136b34f8a195">fileRelease()</a> and suspend operation to the system to perform other tasks. When at a later stage we want to use this file again, fileActivate() will automatically be called by the file read and write functions.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="fs_8h.html#fc09d56f0a7c43f8fa35470af3ac4148">fileOpen()</a> was successfully called.</dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fhandle</em>&nbsp;</td><td>FSFRAM_FILE handle of the file to be released </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="2638c12bb2a4c13eabeec322430e0cc3"></a><!-- doxytag: member="fsfram.h::fsframSetPos" ref="2638c12bb2a4c13eabeec322430e0cc3" args="(FSFRAM_FILE fhandle, FSFRAM_FILE_POS put)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void fsframSetPos           </td>
          <td>(</td>
          <td class="paramtype">FSFRAM_FILE&nbsp;</td>
          <td class="paramname"> <em>fhandle</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">FSFRAM_FILE_POS&nbsp;</td>
          <td class="paramname"> <em>put</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set the current file pointer for the given file. This is the offset in the given file that the next read or write will be performed on. 
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="5e964dc67e8c92827c9cfaebff7c3e76"></a><!-- doxytag: member="fsfram.h::fsframFCB" ref="5e964dc67e8c92827c9cfaebff7c3e76" args="[FSFRAM_MAX_FILES]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="struct___f_s_f_r_a_m___f_i_l_e___i_n_f_o.html">FSFRAM_FILE_INFO</a> <a class="el" href="fsfram_8h.html#5e964dc67e8c92827c9cfaebff7c3e76">fsframFCB</a>[FSFRAM_MAX_FILES]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="27093d683bbeeebdaded00d0f4d45747"></a><!-- doxytag: member="fsfram.h::fsframFlags" ref="27093d683bbeeebdaded00d0f4d45747" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> <a class="el" href="fsfram_8h.html#27093d683bbeeebdaded00d0f4d45747">fsframFlags</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="70a8f90a5facd49ed59f95e87cc2f48b"></a><!-- doxytag: member="fsfram.h::fsframOpenCount" ref="70a8f90a5facd49ed59f95e87cc2f48b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> <a class="el" href="fsfram_8h.html#70a8f90a5facd49ed59f95e87cc2f48b">fsframOpenCount</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 14 08:54:21 2010 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
