<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: JavaScript ADC</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul>
</div>
<h1>JavaScript ADC<br>
<small>
[<a class="el" href="group__mod__xwebpages.html">Example Web Pages</a>]</small>
</h1>The "../src/webpages/js_adc" folder contains some web pages that demonstrate how to use JavaScript to scale Analog values read by the ADC. The ADC values are scalled via JavaScript in the header of the "aval.cgi" file.<h2><a class="anchor" name="aval_cgi">
aval.cgi</a></h2>
<div class="fragment"><pre class="fragment">&lt;html&gt;
&lt;head&gt;
&lt;STYLE type="text/css"&gt;
  .hdr {font-size: 14pt; font-weight: bold;}
&lt;/STYLE&gt;

&lt;title&gt;Modtronix SBC65EC Demo Web Server V2.02&lt;/title&gt;
&lt;meta http-equiv="refresh" content="2"&gt;
&lt;script type="text/javascript"&gt;
/* The tags in the following variables are replaced by their corresponding ADC */
/* values from 0 - 255. This is done by the CGI server in the Modtronix TCP/IP stack */
var AN0 = %n10;
var AN1 = %n11;
var AN2 = %n12;
var AN3 = %n13;
var AN4 = %n14;
var AN5 = %n15;
var AN6 = %n16;
var AN7 = %n17;
var AN8 = %n18;
var AN9 = %n19;
var AN10 = %n1A;
var AN11 = %n1B;

function write5v(i)
{
var num = i/(255/5);
var result = num.toFixed(2);
document.write(result);
}

function write12v(i)
{
var num = i/(255/12);
var result = num.toFixed(2);
document.write(result);
}

function write24v(i)
{
var num = i/(255/24);
var result = num.toFixed(2);
document.write(result);
}
&lt;/script&gt;

&lt;/head&gt;

&lt;body marginwidth="0" marginheight="0" topmargin="0" bottommargin="0" leftmargin="0" rightmargin="0"&gt;

&lt;table&gt;&lt;tr&gt;
&lt;td width="20"&gt;&amp;nbsp;&lt;/td&gt;

&lt;td&gt;
&lt;span class="hdr"&gt;ADC 5V scalled values&lt;/span&gt;&lt;br&gt;
The following values are scalled by JavaScript to display their 5V scalled values. This
will be the correct value if no resistor devider is used on the ADC input, and Vdd
is used as the reference voltage.
&lt;table border="1" width="100%%"&gt;&lt;tr&gt;&lt;td width="25%%"&gt;
AN0 = &lt;script type="text/javascript"&gt;write5v(AN0);&lt;/script&gt;V
&lt;br&gt;AN1 = &lt;script type="text/javascript"&gt;write5v(AN1);&lt;/script&gt;V
&lt;br&gt;AN2 = &lt;script type="text/javascript"&gt;write5v(AN2);&lt;/script&gt;V
&lt;/td&gt;&lt;td width="25%%"&gt;
AN3 = &lt;script type="text/javascript"&gt;write5v(AN3);&lt;/script&gt;V
&lt;br&gt;AN4 = &lt;script type="text/javascript"&gt;write5v(AN4);&lt;/script&gt;V
&lt;br&gt;AN5 = &lt;script type="text/javascript"&gt;write5v(AN5);&lt;/script&gt;V
&lt;/td&gt;&lt;td width="25%%"&gt;
AN6 = &lt;script type="text/javascript"&gt;write5v(AN6);&lt;/script&gt;V
&lt;br&gt;AN7 = &lt;script type="text/javascript"&gt;write5v(AN7);&lt;/script&gt;V
&lt;br&gt;AN8 = &lt;script type="text/javascript"&gt;write5v(AN8);&lt;/script&gt;V
&lt;/td&gt;&lt;td&gt;
AN9 = &lt;script type="text/javascript"&gt;write5v(AN9);&lt;/script&gt;V
&lt;br&gt;AN10 = &lt;script type="text/javascript"&gt;write5v(AN10);&lt;/script&gt;V
&lt;br&gt;AN11 = &lt;script type="text/javascript"&gt;write5v(AN11);&lt;/script&gt;V
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;br&gt;&lt;span class="hdr"&gt;ADC 12V scalled values&lt;/span&gt;&lt;br&gt;
The following values are scalled by JavaScript to display their 12V scalled values. This
will be the correct value if a 5/12 resistor devider is used on the ADC input, and Vdd
is used as the reference voltage.
&lt;table border="1" width="100%%"&gt;&lt;tr&gt;&lt;td width="25%%"&gt;
AN0 = &lt;script type="text/javascript"&gt;write12v(AN0);&lt;/script&gt;V
&lt;br&gt;AN1 = &lt;script type="text/javascript"&gt;write12v(AN1);&lt;/script&gt;V
&lt;br&gt;AN2 = &lt;script type="text/javascript"&gt;write12v(AN2);&lt;/script&gt;V
&lt;/td&gt;&lt;td width="25%%"&gt;
AN3 = &lt;script type="text/javascript"&gt;write12v(AN3);&lt;/script&gt;V
&lt;br&gt;AN4 = &lt;script type="text/javascript"&gt;write12v(AN4);&lt;/script&gt;V
&lt;br&gt;AN5 = &lt;script type="text/javascript"&gt;write12v(AN5);&lt;/script&gt;V
&lt;/td&gt;&lt;td width="25%%"&gt;
AN6 = &lt;script type="text/javascript"&gt;write12v(AN6);&lt;/script&gt;V
&lt;br&gt;AN7 = &lt;script type="text/javascript"&gt;write12v(AN7);&lt;/script&gt;V
&lt;br&gt;AN8 = &lt;script type="text/javascript"&gt;write12v(AN8);&lt;/script&gt;V
&lt;/td&gt;&lt;td&gt;
AN9 = &lt;script type="text/javascript"&gt;write12v(AN9);&lt;/script&gt;V
&lt;br&gt;AN10 = &lt;script type="text/javascript"&gt;write12v(AN10);&lt;/script&gt;V
&lt;br&gt;AN11 = &lt;script type="text/javascript"&gt;write12v(AN11);&lt;/script&gt;V
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;


&lt;br&gt;&lt;span class="hdr"&gt;ADC 24V scalled values&lt;/span&gt;&lt;br&gt;
The following values are scalled by JavaScript to display their 24V scalled values. This
will be the correct value if a 5/24 resistor devider is used on the ADC input, and Vdd
is used as the reference voltage.
&lt;table border="1" width="100%%"&gt;&lt;tr&gt;&lt;td width="25%%"&gt;
AN0 = &lt;script type="text/javascript"&gt;write24v(AN0);&lt;/script&gt;V
&lt;br&gt;AN1 = &lt;script type="text/javascript"&gt;write24v(AN1);&lt;/script&gt;V
&lt;br&gt;AN2 = &lt;script type="text/javascript"&gt;write24v(AN2);&lt;/script&gt;V
&lt;/td&gt;&lt;td width="25%%"&gt;
AN3 = &lt;script type="text/javascript"&gt;write24v(AN3);&lt;/script&gt;V
&lt;br&gt;AN4 = &lt;script type="text/javascript"&gt;write24v(AN4);&lt;/script&gt;V
&lt;br&gt;AN5 = &lt;script type="text/javascript"&gt;write24v(AN5);&lt;/script&gt;V
&lt;/td&gt;&lt;td width="25%%"&gt;
AN6 = &lt;script type="text/javascript"&gt;write24v(AN6);&lt;/script&gt;V
&lt;br&gt;AN7 = &lt;script type="text/javascript"&gt;write24v(AN7);&lt;/script&gt;V
&lt;br&gt;AN8 = &lt;script type="text/javascript"&gt;write24v(AN8);&lt;/script&gt;V
&lt;/td&gt;&lt;td&gt;
AN9 = &lt;script type="text/javascript"&gt;write24v(AN9);&lt;/script&gt;V
&lt;br&gt;AN10 = &lt;script type="text/javascript"&gt;write24v(AN10);&lt;/script&gt;V
&lt;br&gt;AN11 = &lt;script type="text/javascript"&gt;write24v(AN11);&lt;/script&gt;V
&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;

&lt;/td&gt;

&lt;td width="20"&gt;&amp;nbsp;&lt;/td&gt;
&lt;/tr&gt;&lt;/table&gt;

&lt;/body&gt;
&lt;/html&gt;
</pre></div><h2><a class="anchor" name="screen_shots">
Screen Shots</a></h2>
<div align="center">
<img src="js_adc_index.gif" alt="js_adc_index.gif">
</div>
 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
</table>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 9 08:38:56 2007 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
