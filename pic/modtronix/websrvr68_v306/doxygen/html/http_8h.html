<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: net/http.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.2 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li class="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul>
</div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul>
</div>
<h1>net/http.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
HTTP Module for Modtronix TCP/IP Stack. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="user" compact><dt><b>Dependencies: </b></dt><dd>none </dd></dl>
<dl class="user" compact><dt><b>Compiler: </b></dt><dd>MPLAB C18 v2.10 or higher <br>
 HITECH PICC-18 V8.35PL3 or higher</dd></dl>
<h2><a class="anchor" name="description">
Description</a></h2>
Contains the HTTP Server code. <br>
For a detailed description, see the <a class="el" href="group__mod__tcpip__httpsrvr.html">HTTP Server</a> section of this document - in [Modules] [HTTP Server].<h2><a class="anchor" name="http_conf">
Configuration</a></h2>
The following defines are used to configure this module, and should be placed in the <a class="el" href="projdefs_8h.html" title="Project configuration.">projdefs.h</a> (or similar) file. For details, see <a class="el" href="group__mod__conf__projdefs.html">Project Configuration</a>. To configure the module, the required defines should be uncommended, and the rest commented out. <div class="fragment"><pre class="fragment"> <span class="comment">//*********************************************************************</span>
 <span class="comment">//--------------------   Configuration --------------------</span>
 <span class="comment">//*********************************************************************</span>

 <span class="comment">//Define the port used for the HTTP server, default is 80</span>
<span class="preprocessor"> #define DEFAULT_HTTPSRVR_PORT (80)</span>
<span class="preprocessor"></span>
 <span class="comment">//Configured HTTP Server port</span>
<span class="preprocessor"> #define HTTPSRVR_PORT     (80)</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 to parse (replace %xnn tags) HTML files, or 0 not to parse them </span>
<span class="preprocessor"> #define HTTP_PARSE_FILETYPE_HTML 0</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 to parse (replace %xnn tags) JavaScript files, or 0 not to parse them </span>
<span class="preprocessor"> #define HTTP_PARSE_FILETYPE_JS 0</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 if Authentication required for all files that start with 'X' character</span>
<span class="preprocessor"> #define HTTP_AUTH_REQ_FOR_X_FILES 1</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 if Authentication required for all</span>
<span class="preprocessor"> #define HTTP_AUTH_REQ_FOR_ALL_FILES 0</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 if Authentication required for all pages with GET Methods</span>
<span class="preprocessor"> #define HTTP_AUTH_REQ_FOR_GET 0</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 if Authentication required for all Dynamic files</span>
<span class="preprocessor"> #define HTTP_AUTH_REQ_FOR_DYN 0</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 if Authentication required for all CGI files</span>
<span class="preprocessor"> #define HTTP_AUTH_REQ_FOR_CGI 0</span>
<span class="preprocessor"></span>
 <span class="comment">//Define as 1 if Authentication required for all Secure Tags</span>
<span class="preprocessor"> #define HTTP_AUTH_REQ_FOR_SECTAG 1</span>
<span class="preprocessor"></span>
 <span class="comment">//Included this define if the user application will process HTTP headers. It it does,</span>
 <span class="comment">//the HTTPProcessHdr() callback function must be implemented by the user</span>
<span class="preprocessor"> #define HTTP_USER_PROCESSES_HEADERS</span>
</pre></div> 
<p>
<code>#include &quot;<a class="el" href="ip_8h.html">net\ip.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="tcp_8h.html">net\tcp.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="fsee_8h.html">net\fsee.h</a>&quot;</code><br>
<code>#include &quot;<a class="el" href="security_8h.html">net\security.h</a>&quot;</code><br>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="struct___h_t_t_p___i_n_f_o.html">_HTTP_INFO</a></td></tr>

<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#c91480d44279d692b402a044f8c7d99f">HTTP_END_OF_VAR</a>&nbsp;&nbsp;&nbsp;(0xFFFF)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#4d3ade6de76d7fa648e76f4c48322221">HTTP_MAX_RESOURCE_NAME_LEN</a>&nbsp;&nbsp;&nbsp;(12)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#baa678b74521a4ad2e94d354eaa262b2">HTTP_START_OF_VAR</a>&nbsp;&nbsp;&nbsp;(0x0000)</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="struct___h_t_t_p___i_n_f_o.html">_HTTP_INFO</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#dcee37f2ee740b3b9ed8c1861c1bb13f">HTTP_INFO</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2">_SM_HTTP</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#47121efa93d321556bec623e7f2efa11">SM_HTTP</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b46">_SM_HTTP_GET</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#96f800723e2c8a101f5c3c30760c8af1">SM_HTTP_GET</a></td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="http_8h.html#d51358791fcc24db08b832b024c27c88">_SM_HTTP_POST</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#ffbb489836830365c4aa8d8bcbfe2a1f">SM_HTTP_POST</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2">_SM_HTTP</a> { <br>
&nbsp;&nbsp;<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd21cb0627ec66362e5828f8905b22b6527">SM_HTTP_IDLE</a>, 
<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd26097ad5a42eb6b947d218992cbe0af4c">SM_HTTP_GET_TX_HDR</a>, 
<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2adaab967df5516cefccf099f811b7a81">SM_HTTP_GET_TX_BODY</a>, 
<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd221e8e314a37f223bcac636b87f141784">SM_HTTP_POST_RX_HDR</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2cb619f0c1354091b553aece9fa8ddd1c">SM_HTTP_POST_RX_BODY</a>, 
<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2867a2a3562f61523eeb0439103c6d544">SM_HTTP_NOT_FOUND</a>, 
<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd21ae5315930c2237cdbc92d2a61a9ddc5">SM_HTTP_AUTHENTICATION</a>, 
<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2c71bbbd13385615847e106998ba08152">SM_HTTP_DISCONNECT</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd28350db4a26f1848582cd1b24f21a0e03">SM_HTTP_DISCONNECT_WAIT</a>
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b46">_SM_HTTP_GET</a> { <br>
&nbsp;&nbsp;<a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b4646187982a1e49106414f1c221bfa0b2c">SM_HTTP_GET_READ</a>, 
<a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b46a9a4b2d90ce89f26965738c4aa15dfc6">SM_HTTP_GET_VAR_GRP</a>, 
<a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b46ad5439ec2f74393b7bfaa894eeae784d">SM_HTTP_GET_VAR_VALMSB</a>, 
<a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b46293ddf17292b0e145301ad2bbca0d60e">SM_HTTP_GET_VAR_VALLSB</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b468eed79db66fde65fb9c1a8c6c46e8c73">SM_HTTP_GET_VAR</a>
<br>
 }</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#d51358791fcc24db08b832b024c27c88">_SM_HTTP_POST</a> { <a class="el" href="http_8h.html#d51358791fcc24db08b832b024c27c88d351f1c151327ee791712754f485e46b">SM_HTTP_POST_IMAGE</a>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#e7308dd0acc72aa6195e6cdd78bd5af3">HTTPExecGetCmd</a> (<a class="el" href="struct___h_t_t_p___i_n_f_o.html">HTTP_INFO</a> *httpInfo, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *rqstRes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#a5fd250a77a5b2909f67ab54b3bad1b7">HTTPGetParam</a> (<a class="el" href="tcp_8h.html#be3757e564cff2f301e49564cbb5f878">TCP_SOCKET</a> s, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *param, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *paramLen)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#015c5b9453668f6d32ada2d7bb20663f">HTTPGetVar</a> (<a class="el" href="struct___h_t_t_p___i_n_f_o.html">HTTP_INFO</a> *httpInfo, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *val)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#ee23d8df952c3c1a8466ce016e809d82">HTTPInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#94194c66d5507aeec7cf8f9865e31359">HTTPProcessHdr</a> (<a class="el" href="struct___h_t_t_p___i_n_f_o.html">HTTP_INFO</a> *httpInfo, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *hdr, <a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *rqstRes)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="http_8h.html#b189937b063ba1fac1d6ad56d36d2d10">HTTPServer</a> (void)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="c91480d44279d692b402a044f8c7d99f"></a><!-- doxytag: member="http.h::HTTP_END_OF_VAR" ref="c91480d44279d692b402a044f8c7d99f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_END_OF_VAR&nbsp;&nbsp;&nbsp;(0xFFFF)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__httpgetvar_8c-example.html#a9">ex_httpgetvar.c</a>, and <a class="el" href="ex__httpgetvar2_8c-example.html#a8">ex_httpgetvar2.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="4d3ade6de76d7fa648e76f4c48322221"></a><!-- doxytag: member="http.h::HTTP_MAX_RESOURCE_NAME_LEN" ref="4d3ade6de76d7fa648e76f4c48322221" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_MAX_RESOURCE_NAME_LEN&nbsp;&nbsp;&nbsp;(12)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Maximum length of a requested resource via HTTP = 8 + 3. 
</div>
</div><p>
<a class="anchor" name="baa678b74521a4ad2e94d354eaa262b2"></a><!-- doxytag: member="http.h::HTTP_START_OF_VAR" ref="baa678b74521a4ad2e94d354eaa262b2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define HTTP_START_OF_VAR&nbsp;&nbsp;&nbsp;(0x0000)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__httpgetvar_8c-example.html#a8">ex_httpgetvar.c</a>.</dl>
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="dcee37f2ee740b3b9ed8c1861c1bb13f"></a><!-- doxytag: member="http.h::HTTP_INFO" ref="dcee37f2ee740b3b9ed8c1861c1bb13f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="struct___h_t_t_p___i_n_f_o.html">_HTTP_INFO</a>  <a class="el" href="struct___h_t_t_p___i_n_f_o.html">HTTP_INFO</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="47121efa93d321556bec623e7f2efa11"></a><!-- doxytag: member="http.h::SM_HTTP" ref="47121efa93d321556bec623e7f2efa11" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2">_SM_HTTP</a>  <a class="el" href="http_8h.html#47121efa93d321556bec623e7f2efa11">SM_HTTP</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="96f800723e2c8a101f5c3c30760c8af1"></a><!-- doxytag: member="http.h::SM_HTTP_GET" ref="96f800723e2c8a101f5c3c30760c8af1" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b46">_SM_HTTP_GET</a>  <a class="el" href="http_8h.html#96f800723e2c8a101f5c3c30760c8af1">SM_HTTP_GET</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ffbb489836830365c4aa8d8bcbfe2a1f"></a><!-- doxytag: member="http.h::SM_HTTP_POST" ref="ffbb489836830365c4aa8d8bcbfe2a1f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="http_8h.html#d51358791fcc24db08b832b024c27c88">_SM_HTTP_POST</a>  <a class="el" href="http_8h.html#ffbb489836830365c4aa8d8bcbfe2a1f">SM_HTTP_POST</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="2466d8f2658449a24934413b6e2fabd2"></a><!-- doxytag: member="http.h::_SM_HTTP" ref="2466d8f2658449a24934413b6e2fabd2" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http_8h.html#2466d8f2658449a24934413b6e2fabd2">_SM_HTTP</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd21cb0627ec66362e5828f8905b22b6527"></a><!-- doxytag: member="SM_HTTP_IDLE" ref="2466d8f2658449a24934413b6e2fabd21cb0627ec66362e5828f8905b22b6527" args="" -->SM_HTTP_IDLE</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd26097ad5a42eb6b947d218992cbe0af4c"></a><!-- doxytag: member="SM_HTTP_GET_TX_HDR" ref="2466d8f2658449a24934413b6e2fabd26097ad5a42eb6b947d218992cbe0af4c" args="" -->SM_HTTP_GET_TX_HDR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd2adaab967df5516cefccf099f811b7a81"></a><!-- doxytag: member="SM_HTTP_GET_TX_BODY" ref="2466d8f2658449a24934413b6e2fabd2adaab967df5516cefccf099f811b7a81" args="" -->SM_HTTP_GET_TX_BODY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd221e8e314a37f223bcac636b87f141784"></a><!-- doxytag: member="SM_HTTP_POST_RX_HDR" ref="2466d8f2658449a24934413b6e2fabd221e8e314a37f223bcac636b87f141784" args="" -->SM_HTTP_POST_RX_HDR</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd2cb619f0c1354091b553aece9fa8ddd1c"></a><!-- doxytag: member="SM_HTTP_POST_RX_BODY" ref="2466d8f2658449a24934413b6e2fabd2cb619f0c1354091b553aece9fa8ddd1c" args="" -->SM_HTTP_POST_RX_BODY</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd2867a2a3562f61523eeb0439103c6d544"></a><!-- doxytag: member="SM_HTTP_NOT_FOUND" ref="2466d8f2658449a24934413b6e2fabd2867a2a3562f61523eeb0439103c6d544" args="" -->SM_HTTP_NOT_FOUND</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd21ae5315930c2237cdbc92d2a61a9ddc5"></a><!-- doxytag: member="SM_HTTP_AUTHENTICATION" ref="2466d8f2658449a24934413b6e2fabd21ae5315930c2237cdbc92d2a61a9ddc5" args="" -->SM_HTTP_AUTHENTICATION</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd2c71bbbd13385615847e106998ba08152"></a><!-- doxytag: member="SM_HTTP_DISCONNECT" ref="2466d8f2658449a24934413b6e2fabd2c71bbbd13385615847e106998ba08152" args="" -->SM_HTTP_DISCONNECT</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="2466d8f2658449a24934413b6e2fabd28350db4a26f1848582cd1b24f21a0e03"></a><!-- doxytag: member="SM_HTTP_DISCONNECT_WAIT" ref="2466d8f2658449a24934413b6e2fabd28350db4a26f1848582cd1b24f21a0e03" args="" -->SM_HTTP_DISCONNECT_WAIT</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="a3af78ee26e842eb321a7322e7ce1b46"></a><!-- doxytag: member="http.h::_SM_HTTP_GET" ref="a3af78ee26e842eb321a7322e7ce1b46" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http_8h.html#a3af78ee26e842eb321a7322e7ce1b46">_SM_HTTP_GET</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="a3af78ee26e842eb321a7322e7ce1b4646187982a1e49106414f1c221bfa0b2c"></a><!-- doxytag: member="SM_HTTP_GET_READ" ref="a3af78ee26e842eb321a7322e7ce1b4646187982a1e49106414f1c221bfa0b2c" args="" -->SM_HTTP_GET_READ</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a3af78ee26e842eb321a7322e7ce1b46a9a4b2d90ce89f26965738c4aa15dfc6"></a><!-- doxytag: member="SM_HTTP_GET_VAR_GRP" ref="a3af78ee26e842eb321a7322e7ce1b46a9a4b2d90ce89f26965738c4aa15dfc6" args="" -->SM_HTTP_GET_VAR_GRP</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a3af78ee26e842eb321a7322e7ce1b46ad5439ec2f74393b7bfaa894eeae784d"></a><!-- doxytag: member="SM_HTTP_GET_VAR_VALMSB" ref="a3af78ee26e842eb321a7322e7ce1b46ad5439ec2f74393b7bfaa894eeae784d" args="" -->SM_HTTP_GET_VAR_VALMSB</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a3af78ee26e842eb321a7322e7ce1b46293ddf17292b0e145301ad2bbca0d60e"></a><!-- doxytag: member="SM_HTTP_GET_VAR_VALLSB" ref="a3af78ee26e842eb321a7322e7ce1b46293ddf17292b0e145301ad2bbca0d60e" args="" -->SM_HTTP_GET_VAR_VALLSB</em>&nbsp;</td><td>
</td></tr>
<tr><td valign="top"><em><a class="anchor" name="a3af78ee26e842eb321a7322e7ce1b468eed79db66fde65fb9c1a8c6c46e8c73"></a><!-- doxytag: member="SM_HTTP_GET_VAR" ref="a3af78ee26e842eb321a7322e7ce1b468eed79db66fde65fb9c1a8c6c46e8c73" args="" -->SM_HTTP_GET_VAR</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<a class="anchor" name="d51358791fcc24db08b832b024c27c88"></a><!-- doxytag: member="http.h::_SM_HTTP_POST" ref="d51358791fcc24db08b832b024c27c88" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="http_8h.html#d51358791fcc24db08b832b024c27c88">_SM_HTTP_POST</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
<dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="d51358791fcc24db08b832b024c27c88d351f1c151327ee791712754f485e46b"></a><!-- doxytag: member="SM_HTTP_POST_IMAGE" ref="d51358791fcc24db08b832b024c27c88d351f1c151327ee791712754f485e46b" args="" -->SM_HTTP_POST_IMAGE</em>&nbsp;</td><td>
</td></tr>
</table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="e7308dd0acc72aa6195e6cdd78bd5af3"></a><!-- doxytag: member="http.h::HTTPExecGetCmd" ref="e7308dd0acc72aa6195e6cdd78bd5af3" args="(HTTP_INFO *httpInfo, BYTE *rqstRes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPExecGetCmd           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___h_t_t_p___i_n_f_o.html">HTTP_INFO</a> *&nbsp;</td>
          <td class="paramname"> <em>httpInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>rqstRes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is a "callback" from HTTPServer task. Whenever a remote node performs interactive GET task on page that was served, HTTPServer calls this functions. Use <a class="el" href="http_8h.html#a5fd250a77a5b2909f67ab54b3bad1b7">HTTPGetParam()</a> to get all name-value parameters.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>httpInfo</em>&nbsp;</td><td>Socket that is currently receiving this HTTP command </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rqstRes</em>&nbsp;</td><td>Name of the Requested resource - GET command's action. All characters are in uppercase! </td></tr>
  </table>
</dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__httpexecgetcmd_8c-example.html#a0">ex_httpexecgetcmd.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="a5fd250a77a5b2909f67ab54b3bad1b7"></a><!-- doxytag: member="http.h::HTTPGetParam" ref="a5fd250a77a5b2909f67ab54b3bad1b7" args="(TCP_SOCKET s, BYTE *param, BYTE *paramLen)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> HTTPGetParam           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="tcp_8h.html#be3757e564cff2f301e49564cbb5f878">TCP_SOCKET</a>&nbsp;</td>
          <td class="paramname"> <em>s</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>param</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>paramLen</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Writes the name and value string to given param buffer. Both strings are NULL terminated. On return name ane value string can be accessed as follows: <br>
<ul>
<li>Pointer to Name parameter = &amp;param[0] <br>
</li><li>Pointer to Value parameter = &amp;param[paramLen] <dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>HTTPGetRqstRes() must have already be called. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>TCP Socket from which to read the next name-value parameter (if any) </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>param</em>&nbsp;</td><td>Will hold name and value strings when returning </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>paramLen</em>&nbsp;</td><td>On entry into routine holds lengh of param buffer. Will hold Index of value string on return, or 0 if there were none. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>1 if there are parameters to follow, else 0 </dd></dl>
</li></ul>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__httpexecgetcmd_8c-example.html#a3">ex_httpexecgetcmd.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="015c5b9453668f6d32ada2d7bb20663f"></a><!-- doxytag: member="http.h::HTTPGetVar" ref="015c5b9453668f6d32ada2d7bb20663f" args="(HTTP_INFO *httpInfo, BYTE *val)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> HTTPGetVar           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___h_t_t_p___i_n_f_o.html">HTTP_INFO</a> *&nbsp;</td>
          <td class="paramname"> <em>httpInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>val</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This is a callback function from the <a class="el" href="http_8h.html#b189937b063ba1fac1d6ad56d36d2d10">HTTPServer()</a> to the main application. This function must be implemented by the user somewhere in the code. Whenever a variable substitution is required (the parsed web pages contains a "\%nxx" tag) on any Dynamic pages, HTTPServer calls this function. This function is responsible for replacing this variable ("\%nxx" tag") with a user defined string. For example, the user might want to replace any "\%a00" tag found on a web page with the value of channel 0 of the analog input. When the "\%a00" is found on a web page, the HTTPServer will call this function, and the user can then return a string representing the value of channel 0 of the analog input.<p>
The given HTTP_INFO structure contains a 8-bit <em>variable reference</em> (httpInfo-&gt;VarRef), a 8-bit <em>variable group</em> (httpInfo-&gt;var.get.tagGroup) and a 16-bit <em>variable value</em> (httpInfo-&gt;var.get.tagVal). <br>
The <em>variable reference</em> indicates whether this is a first call or not. <br>
The <em>variable group</em> and <em>variable value</em> gives the group and value of the tag found on the web page.<p>
Applications should return one character at a time as a variable value. If there are no more characters, or the requeseted variable is not found, this function must set <em>val</em> to NULL. Since this function only allows one character to be returned at a time as part of the variable value, <a class="el" href="http_8h.html#b189937b063ba1fac1d6ad56d36d2d10">HTTPServer()</a> calls this function multiple times until the user application indicates that there are no more values left for this variable. On begining, <a class="el" href="http_8h.html#015c5b9453668f6d32ada2d7bb20663f">HTTPGetVar()</a> is called with the <em>variable reference</em> (httpInfo-&gt;var.get.varRef) = HTTP_START_OF_VAR to indicate that this is a first call. Applications should use this reference to start the variable value extraction and return updated reference. If there are no more values left for this variable the application should return HTTP_END_OF_VAR. If there are any bytes left to be sent, the application should return a value other than HTTP_START_OF_VAR or HTTP_END_OF_VAR.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="http_8h.html#ee23d8df952c3c1a8466ce016e809d82">HTTPInit()</a> must already be called. </dd></dl>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>httpInfo</em>&nbsp;</td><td>HTTP_INFO structure of HTTP connection requesting this Variable. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>val</em>&nbsp;</td><td>Buffer for value storage. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Variable reference as required by application. </dd></dl>
<dl compact><dt><b>Examples: </b></dt><dd>
<a class="el" href="ex__httpgetvar_8c-example.html#a3">ex_httpgetvar.c</a>, and <a class="el" href="ex__httpgetvar2_8c-example.html#a3">ex_httpgetvar2.c</a>.</dl>
</div>
</div><p>
<a class="anchor" name="ee23d8df952c3c1a8466ce016e809d82"></a><!-- doxytag: member="http.h::HTTPInit" ref="ee23d8df952c3c1a8466ce016e809d82" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set all HTTP connections to Listening state. Initialize FSM for each connection. This function is called only one during lifetime of the application. Modifies HTTP FSM and connections are initialized<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd>TCP must already be initialized. </dd></dl>

</div>
</div><p>
<a class="anchor" name="94194c66d5507aeec7cf8f9865e31359"></a><!-- doxytag: member="http.h::HTTPProcessHdr" ref="94194c66d5507aeec7cf8f9865e31359" args="(HTTP_INFO *httpInfo, BYTE *hdr, BYTE *rqstRes)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPProcessHdr           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="struct___h_t_t_p___i_n_f_o.html">HTTP_INFO</a> *&nbsp;</td>
          <td class="paramname"> <em>httpInfo</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>hdr</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> *&nbsp;</td>
          <td class="paramname"> <em>rqstRes</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function is a "callback" from HTTPServer task. For each HTTP Header found in the HTTP Request message from the client, this function is called. The application has the chance to parse the received headers.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>httpInfo</em>&nbsp;</td><td>HTTP_INFO structure of current HTTP connection </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>hdr</em>&nbsp;</td><td>Buffer containing NULL terminated header to handle </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>rqstRes</em>&nbsp;</td><td>Name of the Requested resource - GET command's action. All characters are in uppercase! </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="b189937b063ba1fac1d6ad56d36d2d10"></a><!-- doxytag: member="http.h::HTTPServer" ref="b189937b063ba1fac1d6ad56d36d2d10" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void HTTPServer           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Itterate through all connections and let it handle its connection. If a connection is not finished, do not process next connections. This must be done, all connections use some static variables that are common. This function acts as a task (similar to one in RTOS). This function performs its task in co-operative manner. Main application must call this function repeatdly to ensure all open or new connections are served on time.<p>
<dl class="user" compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="http_8h.html#ee23d8df952c3c1a8466ce016e809d82">HTTPInit()</a> must already be called. </dd></dl>

</div>
</div><p>
<hr size="1"><address style="text-align: right;"><small>Generated on Mon Jul 9 08:38:52 2007 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.2 </small></address>
</body>
</html>
