<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SBC68EC Web Server: net/ftp.h File Reference</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>net/ftp.h File Reference</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
FTP Server Module for Modtronix TCP/IP Stack. 
<p>
<dl compact><dt><b>Author:</b></dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl compact><dt><b>Dependencies: </b></dt><dd><a class="el" href="stacktsk_8h.html">stacktsk.h</a>, <a class="el" href="tcp_8h.html">tcp.h</a> </dd></dl>
<dl compact><dt><b>Compiler: </b></dt><dd>MPLAB C18 v2.10 or higher <br>
 HITECH PICC-18 V8.35PL3 or higher</dd></dl>
<h2><a class="anchor" name="description">
Description</a></h2>
This module implements a basic FTP client. <br>
For a detailed description, see the <a class="el" href="group__mod__tcpip__user__ftp.html">FTP</a> section of this document - in [Modules] [TCP/IP Stack] [TCP/IP User Protocols].<h2><a class="anchor" name="ftp_conf">
Configuration</a></h2>
The following defines are used to configure this module, and should be placed in the <a class="el" href="projdefs_8h.html">projdefs.h</a> (or similar) file. For details, see <a class="el" href="group__mod__conf__projdefs.html">Project Configuration</a>. To configure the module, the required defines should be uncommended, and the rest commented out. <div class="fragment"><pre class="fragment"> <span class="comment">//*********************************************************************</span>
 <span class="comment">//-------------------- FTP  Configuration --------------------</span>
 <span class="comment">//*********************************************************************</span>
 <span class="comment">//General configuration data</span>
<span class="preprocessor"> #define FTP_COMMAND_PORT                (21)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define FTP_DATA_PORT                   (20)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define FTP_TIMEOUT                     (TICK)((TICK)180 * TICK_SECOND)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MAX_FTP_ARGS                    (7)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MAX_FTP_CMD_STRING_LEN          (31)</span>
<span class="preprocessor"></span>
 <span class="comment">//Configure FTP mudule to have PUT</span>
<span class="preprocessor"> #define FTP_PUT_ENABLED</span>
</pre></div> 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#da8228d885dc011500921dab7e07f197">FTP_COMMAND_PORT</a>&nbsp;&nbsp;&nbsp;(21)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#972c1b4b37ca75e1e499e91617a3e40b">FTP_DATA_PORT</a>&nbsp;&nbsp;&nbsp;(20)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#565365cdb3727cc89a747691b31f21cf">FTP_TIMEOUT</a>&nbsp;&nbsp;&nbsp;((<a class="el" href="tick_8h.html#549d8b8af44a3f7b61019d870ac1de6f">TICK16</a>) ((<a class="el" href="tick_8h.html#549d8b8af44a3f7b61019d870ac1de6f">TICK16</a>)180 * (<a class="el" href="tick_8h.html#549d8b8af44a3f7b61019d870ac1de6f">TICK16</a>)TICKS_PER_SECOND) )</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#5509fdbdacbfb93920579333667e6535">FTP_USER_NAME_LEN</a>&nbsp;&nbsp;&nbsp;(9)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#f8356d35a9927d2ab32c05c82d43bc6f">MAX_FTP_ARGS</a>&nbsp;&nbsp;&nbsp;(7)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#53ad276c855b0ad9695a85604efd4612">MAX_FTP_CMD_STRING_LEN</a>&nbsp;&nbsp;&nbsp;(31)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#0a66c794d89e25e1a477229f941e2615">FTPInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#4d73ddb713f38b1a310a353c6e523c2b">FTPServer</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="ftp_8h.html#f65e99da62d874b7fb79c3ed5b7d8804">FTPVerify</a> (char *login, char *password)</td></tr>

</table>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="da8228d885dc011500921dab7e07f197"></a><!-- doxytag: member="ftp.h::FTP_COMMAND_PORT" ref="da8228d885dc011500921dab7e07f197" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_COMMAND_PORT&nbsp;&nbsp;&nbsp;(21)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="972c1b4b37ca75e1e499e91617a3e40b"></a><!-- doxytag: member="ftp.h::FTP_DATA_PORT" ref="972c1b4b37ca75e1e499e91617a3e40b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_DATA_PORT&nbsp;&nbsp;&nbsp;(20)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="565365cdb3727cc89a747691b31f21cf"></a><!-- doxytag: member="ftp.h::FTP_TIMEOUT" ref="565365cdb3727cc89a747691b31f21cf" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_TIMEOUT&nbsp;&nbsp;&nbsp;((<a class="el" href="tick_8h.html#549d8b8af44a3f7b61019d870ac1de6f">TICK16</a>) ((<a class="el" href="tick_8h.html#549d8b8af44a3f7b61019d870ac1de6f">TICK16</a>)180 * (<a class="el" href="tick_8h.html#549d8b8af44a3f7b61019d870ac1de6f">TICK16</a>)TICKS_PER_SECOND) )          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="5509fdbdacbfb93920579333667e6535"></a><!-- doxytag: member="ftp.h::FTP_USER_NAME_LEN" ref="5509fdbdacbfb93920579333667e6535" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define FTP_USER_NAME_LEN&nbsp;&nbsp;&nbsp;(9)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="f8356d35a9927d2ab32c05c82d43bc6f"></a><!-- doxytag: member="ftp.h::MAX_FTP_ARGS" ref="f8356d35a9927d2ab32c05c82d43bc6f" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FTP_ARGS&nbsp;&nbsp;&nbsp;(7)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="53ad276c855b0ad9695a85604efd4612"></a><!-- doxytag: member="ftp.h::MAX_FTP_CMD_STRING_LEN" ref="53ad276c855b0ad9695a85604efd4612" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MAX_FTP_CMD_STRING_LEN&nbsp;&nbsp;&nbsp;(31)          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="0a66c794d89e25e1a477229f941e2615"></a><!-- doxytag: member="ftp.h::FTPInit" ref="0a66c794d89e25e1a477229f941e2615" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void FTPInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initializes internal variables of Telnet<p>
<dl compact><dt><b>Pre-Condition:</b></dt><dd>TCP module is already initialized </dd></dl>

</div>
</div><p>
<a class="anchor" name="4d73ddb713f38b1a310a353c6e523c2b"></a><!-- doxytag: member="ftp.h::FTPServer" ref="4d73ddb713f38b1a310a353c6e523c2b" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> FTPServer           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function acts as a task (similar to one in RTOS). This function performs its task in co-operative manner. Main application must call this function repeatdly to ensure all open or new connections are served on time.<p>
<dl compact><dt><b>Pre-Condition:</b></dt><dd><a class="el" href="ftp_8h.html#0a66c794d89e25e1a477229f941e2615">FTPInit()</a> must already be called. </dd></dl>
<dl compact><dt><b>Returns:</b></dt><dd>Opened Telnet connections are served. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f65e99da62d874b7fb79c3ed5b7d8804"></a><!-- doxytag: member="ftp.h::FTPVerify" ref="f65e99da62d874b7fb79c3ed5b7d8804" args="(char *login, char *password)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> FTPVerify           </td>
          <td>(</td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>login</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">char *&nbsp;</td>
          <td class="paramname"> <em>password</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Compare given login and password with internal values and return TRUE or FALSE. This is a callback from Telnet Server to user application. User application must implement this function in his/her source file return correct response based on internal login and password information.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>login</em>&nbsp;</td><td>Telnet User login name </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>password</em>&nbsp;</td><td>Telnet User password </td></tr>
  </table>
</dl>
<dl compact><dt><b>Returns:</b></dt><dd>TRUE if login and password verfies FALSE if login and password does not match </dd></dl>

</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Oct 9 11:35:14 2006 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
