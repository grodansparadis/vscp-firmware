<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SBC68EC Web Server: Project Configuration</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
    <li><a href="examples.html"><span>Examples</span></a></li>
  </ul></div>
<h1>Project Configuration<br>
<small>
[<a class="el" href="group__mod__conf.html">Configuration</a>]</small>
</h1><hr><a name="_details"></a><h2>Detailed Description</h2>
The project configuration is done in the <a class="el" href="projdefs_8h.html">projdefs.h</a> file. It contains a list of defines that configure the project at compilation.<br>
 It is <b>very</b> important not to do any project specific configuration in the TCP/IP stack files (<em>net</em> folder), but only in the <a class="el" href="projdefs_8h.html">projdefs.h</a> file. This will simplify updating to newer versions of the Modtronix TCP/IP stack in the future. To update to a newer version of the Modtronix TCP/IP, all that should be done is replacing the files contained in the <em>net</em> folder with the newer ones.<h2><a class="anchor" name="projdefs_modconf">
Module Configuration</a></h2>
The following section describes how to configure modules included in this project<p>
<ul>
<li><b>Appcfg:</b> For details on configuring the Appcfg module <a class="el" href="mac_8h.html#mac_conf">click here</a></li></ul>
<p>
<ul>
<li><b>DHCP:</b> For details on configuring the DHCP module <a class="el" href="dhcp_8h.html#dhcp_conf">click here</a></li></ul>
<p>
<ul>
<li><b>DNS:</b> For details on configuring the DNS module <a class="el" href="dns_8h.html#dns_conf">click here</a></li></ul>
<p>
<ul>
<li><b>FTP:</b> For details on configuring the FTP module <a class="el" href="ftp_8h.html#ftp_conf">click here</a></li></ul>
<p>
<ul>
<li><b>HTTP:</b> For details on configuring the HTTP module <a class="el" href="http_8h.html#http_conf">click here</a></li></ul>
<p>
<ul>
<li><b>IP:</b> For details on configuring the IP module <a class="el" href="ip_8h.html#ip_conf">click here</a></li></ul>
<p>
<ul>
<li><b>MAC:</b> For details on configuring the MAC (Ethernet) module <a class="el" href="mac_8h.html#mac_conf">click here</a></li></ul>
<p>
<ul>
<li><b>NetBIOS:</b> For details on configuring the NetBIOS module <a class="el" href="nbns_8h.html#netbios_conf">click here</a></li></ul>
<p>
<ul>
<li><b>Serint:</b> For details on configuring the Interrupt driven serial module <a class="el" href="serint_8h.html#serint_conf">click here</a></li></ul>
<p>
<ul>
<li><b>UDP:</b> For details on configuring the UDP module <a class="el" href="udp_8h.html#udp_conf">click here</a></li></ul>
<p>
<ul>
<li><b>TCP:</b> For details on configuring the TCP module <a class="el" href="udp_8h.html#udp_conf">click here</a></li></ul>
<h2><a class="anchor" name="projdefs_genconf">
General Configuration</a></h2>
The following section describes how to configure general parameter contained in this project<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define HAS_BOOTLOADER </span>
</pre></div> Include this define in the code to compiled the program to be uploaded to a device that has the <a class="el" href="tools.html#tools_mxbootloader">Modtronix Network Bootloader</a> installed on it. By doing this, this project will be compiled with the correct start of program address and interrupt vector addresses. For further info in the Modtronix Network Bootloader, click <a class="el" href="tools.html#tools_mxbootloader">here</a>.<br>
 The following compiler specific modifications have to be made:<ul>
<li>For HiTech compiler, remove "-A800h" option from linker</li><li>For MPLAB C18 compiler, configure 18f6621.lkr file</li></ul>
<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define CLOCK_FREQ (n) </span>
</pre></div> Configure the PIC's internal clock.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define DEBUG_OFF </span>
</pre></div> Configures if debug information is written out onto the serial port. For the production version of this project, this define should NOT be defined.<br>
 Debug Configuration. When uncommenting any of the following line, remember to uncomment a debug implementation in <a class="el" href="debug_8h.html">debug.h</a>. For example, uncommend <a class="el" href="serint_8h.html">serint.h</a> and link serint.c with project.<br>
 For details, see <a class="el" href="group__mod__sys__debug.html">Debugging</a> module.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define BRD_SBC65EC </span>
</pre></div> Defines the Modtronix SBC board that this code is compiled for. Possible defines are:<ul>
<li>BRD_SBC44EC</li><li>BRD_SBC45EC</li><li>BRD_SBC65EC</li><li>BRD_SBC68EC This define is often defined in the MPLAB project file.</li></ul>
<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define EEPROM_CONTROL (n) </span>
</pre></div> This value is for Microchip 24LC256 - 256kb serial EEPROM<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_ICMP </span>
</pre></div> Uncomment if stack is to use ICMP. For details see <a class="el" href="group__mod__tcpip__base__icmp.html">ICMP</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_HTTP_SERVER </span>
</pre></div> Uncomment if stack is to have a HTTP server. This is usually the case, and this define is usually included. For details see <a class="el" href="group__mod__tcpip__httpsrvr.html">HTTP Server</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_SLIP </span>
</pre></div> Uncomment if stack should implement the SLIP protocol. For details see <a class="el" href="group__mod__tcpip__base__slip.html">SLIP</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_IP_GLEANING </span>
</pre></div> Uncomment if stack should implement IP Gleaning. For details see <a class="el" href="group__mod__tcpip__user__ipgleaning.html">IP Gleaning</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_DHCP </span>
</pre></div> Uncomment if stack should implement the DHCP protocol. For details see <a class="el" href="group__mod__tcpip__user__dhcp.html">DHCP</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_FTP_SERVER </span>
</pre></div> Uncomment if stack should implement a FTP server. For details see <a class="el" href="group__mod__tcpip__user__ftp.html">FTP</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_SNMP_SERVER </span>
</pre></div> Uncomment if stack should implement the SNMP protocol.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_TFTP_CLIENT </span>
</pre></div> Uncomment if stack should implement a TFTP client<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_SMTP </span>
</pre></div> Uncomment if stack should implement SMTP<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_TCP </span>
</pre></div> This define is automatically enabled/disabled based on high-level module selections. If you need them with your custom application, enable it here. Uncomment if stack should implement the TCP protocol. For details see <a class="el" href="group__mod__tcpip__base__tcp.html">TCP</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_UDP </span>
</pre></div> This define is automatically enabled/disabled based on high-level module selections. If you need them with your custom application, enable it here. Uncomment if stack should implement the UDP protocol. For details see <a class="el" href="group__mod__tcpip__base__udp.html">UDP</a>.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_NBNS </span>
</pre></div> Uncomment if stack should implement NBNS<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_USE_DNS </span>
</pre></div> Uncomment if stack should implement DNS<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define TCP_NO_WAIT_FOR_ACK </span>
</pre></div> Comment following line if StackTsk should wait for acknowledgement from remote host before transmitting another packet. Commenting following line may reduce throughput.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define STACK_CLIENT_MODE </span>
</pre></div> Uncomment following line if this stack will be used in CLIENT mode. In CLIENT mode, some functions specific to client operation are enabled.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define MY_DEFAULT_IP_ADDR_BYTE1 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_IP_ADDR_BYTE2 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_IP_ADDR_BYTE3 (n)</span>
<span class="preprocessor"> #define MY_DEFAULT_IP_ADDR_BYTE4 (n)</span>
</pre></div> Use these defines to define the default IP address of the device.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define MY_DEFAULT_MASK_BYTE1 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_MASK_BYTE2 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_MASK_BYTE3 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_MASK_BYTE4 (n)</span>
<span class="preprocessor"></span> 
<span class="preprocessor"> #define MY_DEFAULT_GATE_BYTE1 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_GATE_BYTE2 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_GATE_BYTE3 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_GATE_BYTE4 (n)</span>
<span class="preprocessor"></span> 
<span class="preprocessor"> #define MY_DEFAULT_MAC_BYTE1 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_MAC_BYTE2 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_MAC_BYTE3 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_MAC_BYTE4 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_MAC_BYTE5 (n)</span>
<span class="preprocessor"> #define MY_DEFAULT_MAC_BYTE6 (n)</span>
</pre></div> Use these defines to define the default Mask, Gateway and Ethernet MAC address of this device.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define MY_DEFAULT_DNS_BYTE1 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_DNS_BYTE2 (n)</span>
<span class="preprocessor"></span><span class="preprocessor"> #define MY_DEFAULT_DNS_BYTE3 (n)</span>
<span class="preprocessor"> #define MY_DEFAULT_DNS_BYTE4 (n)</span>
</pre></div> Use these defines to define the default Primary DNS server IP address.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define MAC_SOCKETS </span>
</pre></div> Number of available TCP sockets to be created. Note that each socket consumes 34 bytes of RAM.<br>
 <b>TCP configurations</b><br>
 To minimize page update, match number of sockets and HTTP connections with different page sources in a page. For example, if page contains reference to 3 more pages, browser may try to open 4 simultaneous HTTP connections, and to minimize browser delay, set HTTP connections to 4, MAX_SOCKETS to 4. If you are using ICMP or other applications, you should keep at least one socket available for them.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define MAC_UDP_SOCKETS </span>
</pre></div> Number of available UDP sockets to be created.<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #define HTTP_CONNECTIONS </span>
</pre></div> Maximum numbers of simultaneous HTTP connections allowed. Each connection consumes 10 bytes. 
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Files</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">file &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="projdefs_8h.html">projdefs.h</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Project configuration. <br></td></tr>

<p>
</table>
<hr size="1"><address style="align: right;"><small>Generated on Mon Oct 9 11:35:15 2006 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.4.7 </small></address>
</body>
</html>
