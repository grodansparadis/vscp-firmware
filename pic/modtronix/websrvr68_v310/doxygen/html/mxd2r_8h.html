<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: mxd2r.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
  <div class="tabs">
    <ul>
      <li><a href="files.html"><span>File&nbsp;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1>mxd2r.h File Reference</h1>MXD2R Expansion Board Driver.  
<a href="#_details">More...</a>
<p>
<table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#0c1c3da458aec77b19559903aa404ee7">MXD2R_ADC_CHANNELS</a>&nbsp;&nbsp;&nbsp;3</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#bf5f397580e271437c0c73a5c9b98f0d">MXD2R_OPTO_INPUTS</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#68c0225b281296e8de2350c187e8abd9">MXD2R_RELAYS</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#ceb2887b821c9b7d3d3d3a0882d4730a">mxd2rSetRly1</a>(value)&nbsp;&nbsp;&nbsp;mxd2rSetRly(0, value)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#bae16c1eaa24f6b96ddacd44b30403a5">mxd2rSetRly2</a>(value)&nbsp;&nbsp;&nbsp;mxd2rSetRly(1, value)</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#9d9feb4b3bcca710f55f3b836c9f21ab">mxd2rAddEvents</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#f7c3dc46df6c68a33bd39c3f699979da">mxd2rGetAdc</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> chan)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#0f656b0d4807da6b6cdbe476220362c6">mxd2rGetIO</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#7dcedfad8ba7958b1ca887131950c0f9">mxd2rGetRly</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#c70ed969fcc327da149a8273c588b2b2">mxd2rInit</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#69d6d798bc95dc554a3fe8ad6245e7de">mxd2rService</a> (void)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#70436814d0486e9f8612e83454f58af3">mxd2rSetIO</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> ch, <a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> bVal)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#0d204f9ad67e034a931a5ae8f16ce13e">mxd2rSetRly</a> (<a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> rly, <a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a> bVal)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="mxd2r_8h.html#d150531af3957f7daa61ce6cdbc20aef">mxd2rAdcValues</a> [MXD2R_ADC_CHANNELS]</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
MXD2R Expansion Board Driver. 
<p>
<dl class="author" compact><dt><b>Author:</b></dt><dd><a href="www.modtronix.com">Modtronix Engineering</a> </dd></dl>
<dl class="user" compact><dt><b>Dependencies: </b></dt><dd><ul>
<li></li></ul>
</dd></dl>
<dl class="user" compact><dt><b>Compiler: </b></dt><dd>MPLAB C18 v2.10 or higher <br>
 HITECH PICC-18 V8.35PL3 or higher</dd></dl>
<h2><a class="anchor" name="description">
Description</a></h2>
This module implements a driver for the MXD2R Input/Output/Relay board. To use this module:<ul>
<li>Customize defines specified in "MXD2R Configuration".</li><li>Call <a class="el" href="mxd2r_8h.html#c70ed969fcc327da149a8273c588b2b2">mxd2rInit()</a> to initialize module</li><li>Use available functions</li></ul>
<h3><a class="anchor" name="mxd2r_conf">
Configuration</a></h3>
The following defines are used to configure this module, and should be placed in the <a class="el" href="projdefs_8h.html" title="Project configuration.">projdefs.h</a> (or similar) file. For details, see <a class="el" href="group__mod__conf__projdefs.html">Project Configuration</a>. To configure the module, the required defines should be uncommended, and the rest commented out. <div class="fragment"><pre class="fragment"> <span class="comment">//*********************************************************************</span>
 <span class="comment">//-------------- MXD2R Configuration --------------------</span>
 <span class="comment">//*********************************************************************</span>
 <span class="comment">//Define ...</span>
 <span class="comment">//#define MXD2R_....</span>
</pre></div> <hr><h2>Define Documentation</h2>
<a class="anchor" name="0c1c3da458aec77b19559903aa404ee7"></a><!-- doxytag: member="mxd2r.h::MXD2R_ADC_CHANNELS" ref="0c1c3da458aec77b19559903aa404ee7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MXD2R_ADC_CHANNELS&nbsp;&nbsp;&nbsp;3          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="bf5f397580e271437c0c73a5c9b98f0d"></a><!-- doxytag: member="mxd2r.h::MXD2R_OPTO_INPUTS" ref="bf5f397580e271437c0c73a5c9b98f0d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MXD2R_OPTO_INPUTS&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="68c0225b281296e8de2350c187e8abd9"></a><!-- doxytag: member="mxd2r.h::MXD2R_RELAYS" ref="68c0225b281296e8de2350c187e8abd9" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define MXD2R_RELAYS&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

</div>
</div><p>
<a class="anchor" name="ceb2887b821c9b7d3d3d3a0882d4730a"></a><!-- doxytag: member="mxd2r.h::mxd2rSetRly1" ref="ceb2887b821c9b7d3d3d3a0882d4730a" args="(value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mxd2rSetRly1          </td>
          <td>(</td>
          <td class="paramtype">value&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;mxd2rSetRly(0, value)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set or clear relay1.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>When 0, relay 1 is switched of. When 1, relay 1 is switched on </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="bae16c1eaa24f6b96ddacd44b30403a5"></a><!-- doxytag: member="mxd2r.h::mxd2rSetRly2" ref="bae16c1eaa24f6b96ddacd44b30403a5" args="(value)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define mxd2rSetRly2          </td>
          <td>(</td>
          <td class="paramtype">value&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td>&nbsp;&nbsp;&nbsp;mxd2rSetRly(1, value)</td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set or clear relay2.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>value</em>&nbsp;</td><td>When 0, relay 2 is switched of. When 1, relay 2 is switched on </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="9d9feb4b3bcca710f55f3b836c9f21ab"></a><!-- doxytag: member="mxd2r.h::mxd2rAddEvents" ref="9d9feb4b3bcca710f55f3b836c9f21ab" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> mxd2rAddEvents           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Check if any events occured, and add them to all active event ports.<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns byte indicating what event ports had data added to them. Use EVT_BUF_XX defines </dd></dl>

</div>
</div><p>
<a class="anchor" name="f7c3dc46df6c68a33bd39c3f699979da"></a><!-- doxytag: member="mxd2r.h::mxd2rGetAdc" ref="f7c3dc46df6c68a33bd39c3f699979da" args="(BYTE chan)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> mxd2rGetAdc           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>chan</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the requested 16 bit filtered ADC channel.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chan</em>&nbsp;</td><td>The channel to get, a value from 1 to 5 for channels 1 to 5 of MXD2R</td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Returns the 16 bit filtered ADC channel </dd></dl>

</div>
</div><p>
<a class="anchor" name="0f656b0d4807da6b6cdbe476220362c6"></a><!-- doxytag: member="mxd2r.h::mxd2rGetIO" ref="0f656b0d4807da6b6cdbe476220362c6" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> mxd2rGetIO           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the current state of all 6 IOs<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The IO values in bit 0-5. Bit 0 indicates state of IO 1, bit 1 indicated the state of IO2 2, .... </dd></dl>

</div>
</div><p>
<a class="anchor" name="7dcedfad8ba7958b1ca887131950c0f9"></a><!-- doxytag: member="mxd2r.h::mxd2rGetRly" ref="7dcedfad8ba7958b1ca887131950c0f9" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a> mxd2rGetRly           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the current state of both relays<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>The relay values in bit 0-1. Bit 0 indicates state of relay 1, bit 1 indicated the state of relay 2. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c70ed969fcc327da149a8273c588b2b2"></a><!-- doxytag: member="mxd2r.h::mxd2rInit" ref="c70ed969fcc327da149a8273c588b2b2" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mxd2rInit           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the MXD2R module 
</div>
</div><p>
<a class="anchor" name="69d6d798bc95dc554a3fe8ad6245e7de"></a><!-- doxytag: member="mxd2r.h::mxd2rService" ref="69d6d798bc95dc554a3fe8ad6245e7de" args="(void)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mxd2rService           </td>
          <td>(</td>
          <td class="paramtype">void&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Service this module 
</div>
</div><p>
<a class="anchor" name="70436814d0486e9f8612e83454f58af3"></a><!-- doxytag: member="mxd2r.h::mxd2rSetIO" ref="70436814d0486e9f8612e83454f58af3" args="(BYTE ch, BOOL bVal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mxd2rSetIO           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>ch</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bVal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set or clear given IO port. Is only done if this IO port is current set as an ouput<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>ch</em>&nbsp;</td><td>Offset of IO to perform action on. A value from 0-n. IO1 will be 0, IO2 will be 1, ....</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bVal</em>&nbsp;</td><td>When 0, relay is switched of. When 1, relay is switched on </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="0d204f9ad67e034a931a5ae8f16ce13e"></a><!-- doxytag: member="mxd2r.h::mxd2rSetRly" ref="0d204f9ad67e034a931a5ae8f16ce13e" args="(BYTE rly, BOOL bVal)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void mxd2rSetRly           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#4ae1dab0fb4b072a66584546209e7d58">BYTE</a>&nbsp;</td>
          <td class="paramname"> <em>rly</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="compiler_8h.html#54d65c7fa62e62c9754371e42f5111b9">BOOL</a>&nbsp;</td>
          <td class="paramname"> <em>bVal</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Set or clear given relay<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>rly</em>&nbsp;</td><td>Offset of relay to perform action on. A value from 0-n. Relay 1 will be 0, relay 2 will be 1, ....</td></tr>
    <tr><td valign="top"></td><td valign="top"><em>bVal</em>&nbsp;</td><td>When 0, relay is switched of. When 1, relay is switched on </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="d150531af3957f7daa61ce6cdbc20aef"></a><!-- doxytag: member="mxd2r.h::mxd2rAdcValues" ref="d150531af3957f7daa61ce6cdbc20aef" args="[MXD2R_ADC_CHANNELS]" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="compiler_8h.html#2b0e863dadf920709ec53d9088ee7c91">WORD</a> <a class="el" href="mxd2r_8h.html#d150531af3957f7daa61ce6cdbc20aef">mxd2rAdcValues</a>[MXD2R_ADC_CHANNELS]          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Global Array containing converted ADC values. This array can be accessed from anywhere to obtain the current value of the ADC inputs. For example, to get the current value of AN2 ADC, use mxd2rAdcValues[2] 
</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 14 08:54:20 2010 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
