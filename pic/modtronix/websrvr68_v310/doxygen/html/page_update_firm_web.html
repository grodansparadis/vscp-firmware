<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
<title>SBC68EC Web Server: Updating Board</title>
<link href="tabs.css" rel="stylesheet" type="text/css">
<link href="doxygen.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.8 -->
<div class="navigation" id="top">
  <div class="tabs">
    <ul>
      <li><a href="main.html"><span>Main&nbsp;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li><a href="examples.html"><span>Examples</span></a></li>
    </ul>
  </div>
</div>
<div class="contents">
<h1><a class="anchor" name="page_update_firm_web">Updating Board </a></h1><h2><a class="anchor" name="page_update_firm_web_details">
Updating Firmware and Webpages</a></h2>
The firmware and webpages of the SBC68EC can be updated with the <a class="el" href="tools.html#tools_mxbootloader">Modtronix Network Bootloader</a>. The <a class="el" href="tools.html#tools_mxbootloader">Modtronix Network Bootloader</a> can be downloaded from <a href="http://www.modtronix.com/soft/netloader" target="_blank">www.modtronix.com/soft/netloader</a>. The latest firmware can be downloaded from <a href="http://www.modtronix.com/products/sbc68ec/firmware" target="_blank">www.modtronix.com/products/sbc68ec/firmware</a>.<p>
After downloading the firmware and webpages, and installing the <a class="el" href="tools.html#tools_mxbootloader">Modtronix Network Bootloader</a>, the SBC68EC can be updated as follows: <ul>
<li>
Ensure your SBC68EC is connected to the network, and switched on. </li>
<li>
Download, install and start the <a class="el" href="tools.html#tools_mxbootloader">Modtronix Network Bootloader</a> application. Click on the "Firmware &amp; Webpage Update" tab. </li>
<li>
Load the firmware (*.hex file), and web pages (*.img file) by clicking on the <a href="mnb_firm_web_browsbtns.gif" target="_blank">Browse buttons.</a> </li>
<li>
Enter the target board's current IP address in the "Target IP Address or NetBIOS Name" field. The default IP address for the SBC68EC is "10.1.0.1", and NetBios name is "MXBOARD". </li>
<li>
Enter the target board's configured IP address in the "Target IP Address for Bootloader" field. The default IP address for the SBC68EC is "10.1.0.1". </li>
<li>
Click on the "Update Webpages" button. A dialog will appear requesting the username and password, they are "admin" and "pw" by default. </li>
<li>
The progress will be shown in the "Message Window". On completion, the message "File Successfully Sent" should be displayed, as shown <a href="mnb_firm_web_update.gif" target="_blank">in this picture.</a> </li>
<li>
The Webpages have now been updated, next the firmware is updated. </li>
<li>
Click on the "Connect" button. This will start sending UDP packets onto the network trying to connect with the bootloader on the SBC68EC. </li>
<li>
You should see a message in the Message Window stating that a connection has been made with the target board, as shown <a href="mnb_firm_web_con.gif" target="_blank">in this picture.</a> </li>
<li>
If it does not connect after 15 seconds (does not automatically reset the SBC68EC), reset the power to the target board. </li>
<li>
Click on the "Upgrade Firmware" button. The progress of the firmware upgrade will be shown in the Message Window. </li>
<li>
When finished, the SBC68EC will automatically be reset, and will start up with the new firmware. The Message Window should contain messages as shown <a href="mnb_firm_web_con_update.gif" target="_blank">in this picture.</a> </li>
</ul>
<h2><a class="anchor" name="page_update_firm_web_faq">
Troubleshooting and FAQ</a></h2>
<b>Q: Why are there two fields for entering the target board's IP address?</b> <br>
<b>A:</b>The Web Server, and Bootloader are two different, independent programs that run on the SBC68EC. At startup, the Bootloader application will run for a couple of seconds. If the "Modtronix Network Bootloader" does not connect to it, it will terminate, and the Web Server application will be started. The bootloader is a very small program, and does not have a DHCP client, meaning it will never obtain an address automatically from the network. The bootloader will always use the SBC68EC's default IP address. The SBC68EC's default IP address can be configured via the web based configuration menu, or the serial configuration menu of the SBC68EC. It is 10.1.0.1 by default. This is the IP address that has to be entered in the "Target IP Address for Bootloader" field. The "Target IP Address or NetBIOS Name" on the other hand is the IP address or NetBIOS name of the Web Server application. If the network does NOT have a DHCP server, this will also be the default IP address of the SBC68EC. If the network does have a DHCP server, this will be an IP address assigned by the DHCP server, and the NetBIOS name can be used in stead. The default NetBIOS name of the SBC68EC is MXBOARD. Alternatively the Web Server's current IP address can be seen on the "Network Settings" page of the SBC68EC's web interface.<p>
<b>Q: What does the "Update EEPROM Configuration Data" check box do?</b> <br>
<b>A:</b>All configuration data for the SBC68EC are stored in the board's EEPROM (non volatile memory). When updating firmware, and this box is checked, all configuration settings will be restored to their default values! To keep the board's current settings, uncheck this box. Unchecking this box could however lead to new features of the firmware not being initialized with their default settings!<p>
<div class="hideElement"> <div align="center">
<img src="mnb_firm_web.gif" alt="mnb_firm_web.gif">
</div>
 <div align="center">
<img src="mnb_firm_web_browsbtns.gif" alt="mnb_firm_web_browsbtns.gif">
</div>
 <div align="center">
<img src="mnb_firm_web_con_update.gif" alt="mnb_firm_web_con_update.gif">
</div>
 <div align="center">
<img src="mnb_firm_web_con.gif" alt="mnb_firm_web_con.gif">
</div>
 <div align="center">
<img src="mnb_firm_web_update.gif" alt="mnb_firm_web_update.gif">
</div>
 </div> </div>
<hr size="1"><address style="text-align: right;"><small>Generated on Fri May 14 08:54:22 2010 for SBC68EC Web Server by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.8 </small></address>
</body>
</html>
